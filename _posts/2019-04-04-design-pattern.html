<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2019-04-05 五 15:37 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="raflin" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orga0e5a4b">1. design pattern</a>
<ul>
<li><a href="#org78f567e">1.1. abstract factory&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org81e5585">1.1.1. desc</a></li>
<li><a href="#org44662c3">1.1.2. code</a></li>
</ul>
</li>
<li><a href="#org33020c3">1.2. adapter&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org9c0622c">1.2.1. code</a></li>
</ul>
</li>
<li><a href="#org9049c40">1.3. builder&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#orgd09cbc7">1.3.1. code</a></li>
</ul>
</li>
<li><a href="#orgf79ce5e">1.4. builder : a abs class got some abs func to set up the materials&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#orgedde21c">1.4.1. java</a></li>
<li><a href="#org4264f08">1.4.2. code</a></li>
</ul>
</li>
<li><a href="#orgccb0b7e">1.5. chain of responsibility&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#orgc7ad12e">1.5.1. code</a></li>
</ul>
</li>
<li><a href="#org56bc7d6">1.6. command pattern&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org1a4a64f">1.6.1. code</a></li>
</ul>
</li>
<li><a href="#orgca05468">1.7. CRTP&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#orgf3b1665">1.7.1. code</a></li>
</ul>
</li>
<li><a href="#org03c9ac1">1.8. decorator: keep a abstract as a member and this is also this type&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#orgde1e0b1">1.8.1. cpp</a></li>
<li><a href="#orgcb91d9a">1.8.2. code</a></li>
</ul>
</li>
<li><a href="#orga049bc6">1.9. factory method&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org9558bbe">1.9.1. code</a></li>
</ul>
</li>
<li><a href="#org9148ee7">1.10. flyweight&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#orgcf4c295">1.10.1. code</a></li>
</ul>
</li>
<li><a href="#orgad3d8b6">1.11. itearator&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#orga7e4cc5">1.11.1. code</a></li>
</ul>
</li>
<li><a href="#org7f3c85b">1.12. object pool&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org00427f1">1.12.1. code</a></li>
</ul>
</li>
<li><a href="#orge19ae07">1.13. polymorphism&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org8a46a11">1.13.1. code</a></li>
</ul>
</li>
<li><a href="#org1f4d246">1.14. prototype&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org528d3ef">1.14.1. java</a></li>
<li><a href="#org1cb4fc8">1.14.2. code</a></li>
</ul>
</li>
<li><a href="#org987cec2">1.15. prototype in java&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org22e19c8">1.15.1. code</a></li>
</ul>
</li>
<li><a href="#orgd07db16">1.16. simple factory&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#orge63dd50">1.16.1. code</a></li>
</ul>
</li>
<li><a href="#orgdbec8ad">1.17. virtual&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org2e28aa1">1.17.1. code</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgabf12e1">2. design pattern tutorial point</a>
<ul>
<li><a href="#org825ac66">2.1. factory pattern&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org02bd865">2.1.1. code</a></li>
</ul>
</li>
<li><a href="#orgd3fb1d2">2.2. abstract factory&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org2928ec1">2.2.1. code</a></li>
</ul>
</li>
<li><a href="#org6e31fd8">2.3. singleton&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#orga1b5f9c">2.3.1. code</a></li>
</ul>
</li>
<li><a href="#org82aac02">2.4. builder&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org0a7f1b7">2.4.1. code</a></li>
</ul>
</li>
<li><a href="#org69742d8">2.5. adapter&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></a>
<ul>
<li><a href="#org29b609b">2.5.1. code</a></li>
</ul>
</li>
<li><a href="#org403df5e">2.6. observer pattern</a></li>
</ul>
</li>
<li><a href="#org849ae5e">3. java2s - java</a></li>
</ul>
</div>
</div>

<div id="outline-container-orga0e5a4b" class="outline-2">
<h2 id="orga0e5a4b"><span class="section-number-2">1</span> design pattern</h2>
<div class="outline-text-2" id="text-1">
</div>

<div id="outline-container-org78f567e" class="outline-3">
<h3 id="org78f567e"><span class="section-number-3">1.1</span> abstract factory&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li><a href="https://zh.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82">https://zh.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82</a></li>
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org81e5585" class="outline-4">
<h4 id="org81e5585"><span class="section-number-4">1.1.1</span> desc</h4>
<div class="outline-text-4" id="text-1-1-1">
<pre class="example">
  適用性[編輯]
  在以下情況可以考慮使用抽象工廠模式：
  一個系統要獨立於它的產品的建立、組合和表示時。
  一個系統要由多個產品系列中的一個來配置時。
  需要強調一系列相關的產品物件的設計以便進行聯合使用時。
  提供一個產品類別庫，而只想顯示它們的介面而不是實現時。

  優點[編輯]
  具體產品從客戶代碼中被分離出來
  容易改變產品的系列
  將一個系列的產品族統一到一起建立

  缺點[編輯]
  在產品族中擴充功能新的產品是很困難的，它需要修改抽象工廠的介面
</pre>
</div>
</div>
<div id="outline-container-org44662c3" class="outline-4">
<h4 id="org44662c3"><span class="section-number-4">1.1.2</span> code</h4>
<div class="outline-text-4" id="text-1-1-2">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ce537a; font-weight: bold;">abstract</span> <span style="color: #7590db;">factory</span> :
the factory which create abstract objects

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Button</span>; <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Abstract Class</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">MacButton</span>: <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Button</span> <span style="color: #4f97d7;">{}</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">WinButton</span>: <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Button</span> <span style="color: #4f97d7;">{}</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Border</span>; <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Abstract Class</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">MacBorder</span>: <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Border</span> <span style="color: #4f97d7;">{}</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">WinBorder</span>: <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Border</span> <span style="color: #4f97d7;">{}</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">AbstractFactory</span> <span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #4f97d7; font-weight: bold;">virtual</span> <span style="color: #ce537a; font-weight: bold;">Button</span>* <span style="color: #bc6ec5; font-weight: bold;">CreateButton</span><span style="color: #bc6ec5;">()</span> =<span style="color: #a45bad;">0</span>;
    <span style="color: #4f97d7; font-weight: bold;">virtual</span> <span style="color: #ce537a; font-weight: bold;">Border</span>* <span style="color: #bc6ec5; font-weight: bold;">CreateBorder</span><span style="color: #bc6ec5;">()</span> =<span style="color: #a45bad;">0</span>;
<span style="color: #4f97d7;">}</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">MacFactory</span>: <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">AbstractFactory</span> <span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #ce537a; font-weight: bold;">MacButton</span>* <span style="color: #bc6ec5; font-weight: bold;">CreateButton</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span> <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">MacButton</span>; <span style="color: #bc6ec5;">}</span>
    <span style="color: #ce537a; font-weight: bold;">MacBorder</span>* <span style="color: #bc6ec5; font-weight: bold;">CreateBorder</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span> <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">MacBorder</span>; <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">WinFactory</span>: <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">AbstractFactory</span> <span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #ce537a; font-weight: bold;">WinButton</span>* <span style="color: #bc6ec5; font-weight: bold;">CreateButton</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span> <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">WinButton</span>; <span style="color: #bc6ec5;">}</span>
    <span style="color: #ce537a; font-weight: bold;">WinBorder</span>* <span style="color: #bc6ec5; font-weight: bold;">CreateBorder</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span> <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">WinBorder</span>; <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>;

<span style="color: #ce537a; font-weight: bold;">AbstractFactory</span>* <span style="color: #7590db;">fac</span>;
<span style="color: #4f97d7; font-weight: bold;">switch</span> <span style="color: #4f97d7;">(</span>style<span style="color: #4f97d7;">)</span> <span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">case</span> MAC:
    fac = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">MacFactory</span>;
    <span style="color: #4f97d7; font-weight: bold;">break</span>;
<span style="color: #4f97d7; font-weight: bold;">case</span> WIN:
    fac = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">WinFactory</span>;
    <span style="color: #4f97d7; font-weight: bold;">break</span>;
<span style="color: #4f97d7;">}</span>
<span style="color: #ce537a; font-weight: bold;">Button</span>* <span style="color: #7590db;">button</span> = fac-&gt;CreateButton<span style="color: #4f97d7;">()</span>;
<span style="color: #ce537a; font-weight: bold;">Border</span>* <span style="color: #7590db;">border</span> = fac-&gt;CreateBorder<span style="color: #4f97d7;">()</span>;
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org33020c3" class="outline-3">
<h3 id="org33020c3"><span class="section-number-3">1.2</span> adapter&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org9c0622c" class="outline-4">
<h4 id="org9c0622c"><span class="section-number-4">1.2.1</span> code</h4>
<div class="outline-text-4" id="text-1-2-1">
<div class="org-src-container">
<pre class="src src-java"> <span style="color: #4f97d7; font-weight: bold;">interface</span> <span style="color: #ce537a; font-weight: bold;">Bird</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">fly</span><span style="color: #bc6ec5;">()</span>;
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">makeSound</span><span style="color: #bc6ec5;">()</span>;
 <span style="color: #4f97d7;">}</span>

 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Sparrow</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Bird</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">fly</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Flying"</span><span style="color: #2d9574;">)</span>;
     <span style="color: #bc6ec5;">}</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">makeSound</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Chirp Chirp"</span><span style="color: #2d9574;">)</span>;
     <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>

 <span style="color: #4f97d7; font-weight: bold;">interface</span> <span style="color: #ce537a; font-weight: bold;">ToyDuck</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">squeak</span><span style="color: #bc6ec5;">()</span>;
 <span style="color: #4f97d7;">}</span>

 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">PlasticToyDuck</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">ToyDuck</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">squeak</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Squeak"</span><span style="color: #2d9574;">)</span>;
     <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>

 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">BirdAdapter</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">ToyDuck</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #ce537a; font-weight: bold;">Bird</span> <span style="color: #7590db;">bird</span>;
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">BirdAdapter</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Bird</span> <span style="color: #7590db;">bird</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
         <span style="color: #4f97d7; font-weight: bold;">this</span>.bird = bird;
     <span style="color: #bc6ec5;">}</span>

     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">squeak</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">translate the methods appropriately</span>
         bird.makeSound<span style="color: #2d9574;">()</span>;
     <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>

 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Main</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">args</span><span style="color: #2d9574;">[]</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
         <span style="color: #ce537a; font-weight: bold;">Sparrow</span> <span style="color: #7590db;">sparrow</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Sparrow</span><span style="color: #2d9574;">()</span>;
         <span style="color: #ce537a; font-weight: bold;">PlasticToyDuck</span> <span style="color: #7590db;">toyDuck</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">PlasticToyDuck</span><span style="color: #2d9574;">()</span>;

         <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">xx adapter : change into another object -&gt; toyDuck</span>
         <span style="color: #ce537a; font-weight: bold;">ToyDuck</span> <span style="color: #7590db;">birdAdapter</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">BirdAdapter</span><span style="color: #2d9574;">(</span>sparrow<span style="color: #2d9574;">)</span>;

         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Sparrow..."</span><span style="color: #2d9574;">)</span>;
         sparrow.fly<span style="color: #2d9574;">()</span>;
         sparrow.makeSound<span style="color: #2d9574;">()</span>;

         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"ToyDuck..."</span><span style="color: #2d9574;">)</span>;
         toyDuck.squeak<span style="color: #2d9574;">()</span>;

         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"BirdAdapter..."</span><span style="color: #2d9574;">)</span>;
         birdAdapter.squeak<span style="color: #2d9574;">()</span>;
     <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>


 <span style="color: #a45bad;">Output</span>:

 Sparrow...
 Flying
 Chirp Chirp
 ToyDuck...
 Squeak
 BirdAdapter...
 Chirp Chirp


 Object Adapter Vs Class Adapter

 The adapter pattern we have implemented above is called Object Adapter Pattern
 because the adapter holds an instance of <span style="color: #a45bad;">adaptee</span>. There is also another type
 called Class Adapter Pattern which use inheritance instead of composition but
 you require multiple inheritance to implement <span style="color: #a45bad;">it</span>.

 Class diagram of Class <span style="color: #ce537a; font-weight: bold;">Adapter</span> <span style="color: #bc6ec5; font-weight: bold;">Pattern</span>:
 pattern4

 Here instead of having an adaptee object inside adapter <span style="color: #4f97d7;">(</span>composition<span style="color: #4f97d7;">)</span> to make
 use of its functionality adapter inherits the <span style="color: #a45bad;">adaptee</span>.

 Since multiple inheritance is not supported by many languages including java
 and is associated with many problems we have not shown implementation using
 <span style="color: #4f97d7; font-weight: bold;">class</span> adapter <span style="color: #a45bad;">pattern</span>.

 Advantages:

- Helps achieve reusability and flexibility.

- Client <span style="color: #4f97d7; font-weight: bold;">class</span> is not complicated by having to use a different <span style="color: #4f97d7; font-weight: bold;">interface</span> and can
  use polymorphism to swap between different implementations of <span style="color: #a45bad;">adapters</span>.

 Disadvantages:

- All requests are forwarded, so there is a slight increase in <span style="color: #ce537a; font-weight: bold;">the</span> <span style="color: #7590db;">overhead</span>.

- Sometimes many adaptations are required along an adapter chain to reach the
  type which is required.

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9049c40" class="outline-3">
<h3 id="org9049c40"><span class="section-number-3">1.3</span> builder&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgd09cbc7" class="outline-4">
<h4 id="orgd09cbc7"><span class="section-number-4">1.3.1</span> code</h4>
<div class="outline-text-4" id="text-1-3-1">
<div class="org-src-container">
<pre class="src src-java"> <span style="color: #4f97d7; font-weight: bold;">interface</span> <span style="color: #ce537a; font-weight: bold;">HousePlan</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setBasement</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">basement</span><span style="color: #bc6ec5;">)</span>;
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setStructure</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">structure</span><span style="color: #bc6ec5;">)</span>;
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setRoof</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">roof</span><span style="color: #bc6ec5;">)</span>;
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setInterior</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">interior</span><span style="color: #bc6ec5;">)</span>;
 <span style="color: #4f97d7;">}</span>

 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">House</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">HousePlan</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">basement</span>;
   <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">structure</span>;
   <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">roof</span>;
   <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">interior</span>;

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setBasement</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">basement</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">this</span>.basement = basement;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setStructure</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">structure</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">this</span>.structure = structure;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setRoof</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">roof</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">this</span>.roof = roof;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setInterior</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">interior</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">this</span>.interior = interior;
   <span style="color: #bc6ec5;">}</span>

 <span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">interface</span> <span style="color: #ce537a; font-weight: bold;">HouseBuilder</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildBasement</span><span style="color: #bc6ec5;">()</span>;
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildStructure</span><span style="color: #bc6ec5;">()</span>;
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">bulidRoof</span><span style="color: #bc6ec5;">()</span>;
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildInterior</span><span style="color: #bc6ec5;">()</span>;
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">House</span> <span style="color: #bc6ec5; font-weight: bold;">getHouse</span><span style="color: #bc6ec5;">()</span>;
 <span style="color: #4f97d7;">}</span>

 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">IglooHouseBuilder</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">HouseBuilder</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">House</span> <span style="color: #7590db;">house</span>;

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">IglooHouseBuilder</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">this</span>.house = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">House</span><span style="color: #2d9574;">()</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildBasement</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     house.setBasement<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Ice Bars"</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildStructure</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     house.setStructure<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Ice Blocks"</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildInterior</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     house.setInterior<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Ice Carvings"</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">bulidRoof</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     house.setRoof<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Ice Dome"</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">House</span> <span style="color: #bc6ec5; font-weight: bold;">getHouse</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">this</span>.house;
   <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>

 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">TipiHouseBuilder</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">HouseBuilder</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">House</span> <span style="color: #7590db;">house</span>;

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">TipiHouseBuilder</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">this</span>.house = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">House</span><span style="color: #2d9574;">()</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildBasement</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     house.setBasement<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Wooden Poles"</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildStructure</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     house.setStructure<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Wood and Ice"</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildInterior</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     house.setInterior<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Fire Wood"</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">bulidRoof</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     house.setRoof<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Wood, caribou and seal skins"</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">House</span> <span style="color: #bc6ec5; font-weight: bold;">getHouse</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">this</span>.house;
   <span style="color: #bc6ec5;">}</span>

 <span style="color: #4f97d7;">}</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">CivilEngineer</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">HouseBuilder</span> <span style="color: #7590db;">houseBuilder</span>;

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">CivilEngineer</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">HouseBuilder</span> <span style="color: #7590db;">houseBuilder</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">this</span>.houseBuilder = houseBuilder;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">House</span> <span style="color: #bc6ec5; font-weight: bold;">getHouse</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">this</span>.houseBuilder.getHouse<span style="color: #2d9574;">()</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">constructHouse</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">this</span>.houseBuilder.buildBasement<span style="color: #2d9574;">()</span>;
     <span style="color: #4f97d7; font-weight: bold;">this</span>.houseBuilder.buildStructure<span style="color: #2d9574;">()</span>;
     <span style="color: #4f97d7; font-weight: bold;">this</span>.houseBuilder.bulidRoof<span style="color: #2d9574;">()</span>;
     <span style="color: #4f97d7; font-weight: bold;">this</span>.houseBuilder.buildInterior<span style="color: #2d9574;">()</span>;
   <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Builder</span> <span style="color: #4f97d7;">{</span><span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #7590db;">args</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #ce537a; font-weight: bold;">HouseBuilder</span> <span style="color: #7590db;">iglooBuilder</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">IglooHouseBuilder</span><span style="color: #2d9574;">()</span>;
     <span style="color: #ce537a; font-weight: bold;">CivilEngineer</span> <span style="color: #7590db;">engineer</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">CivilEngineer</span><span style="color: #2d9574;">(</span>iglooBuilder<span style="color: #2d9574;">)</span>;

     engineer.constructHouse<span style="color: #2d9574;">()</span>;
     <span style="color: #ce537a; font-weight: bold;">House</span> <span style="color: #7590db;">house</span> = engineer.getHouse<span style="color: #2d9574;">()</span>;

     System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Builder constructed: "</span>+ house<span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>


 <span style="color: #a45bad;">Output</span> :


 <span style="color: #ce537a; font-weight: bold;">Builder</span> <span style="color: #7590db;">constructed</span>: House@6d06d69c
</pre>
</div>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Adv</span>

- The parameters to the constructor are reduced and are provided in highly readable method calls.
- Builder design pattern also helps in minimizing the number of parameters in constructor and thus there is no need to pass in null for optional parameters to the constructor.
- Object is always instantiated in a complete state
- Immutable objects can be build without much complex logic in object building process.

<span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* DisAdv</span>

- The number of lines of code increase at least to double in builder pattern, but the effort pays off in terms of design flexibility and much more readable code.
- Requires creating a separate ConcreteBuilder for each different type of Product.
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgf79ce5e" class="outline-3">
<h3 id="orgf79ce5e"><span class="section-number-3">1.4</span> builder : a abs class got some abs func to set up the materials&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgedde21c" class="outline-4">
<h4 id="orgedde21c"><span class="section-number-4">1.4.1</span> java</h4>
<div class="outline-text-4" id="text-1-4-1">
<div class="org-src-container">
<pre class="src src-java"><span style="color: #2aa1ae;">/** "Product" */</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Pizza</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">dough</span> = <span style="color: #2d9574;">""</span>;
  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">sauce</span> = <span style="color: #2d9574;">""</span>;
  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">topping</span> = <span style="color: #2d9574;">""</span>;

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setDough</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">dough</span><span style="color: #bc6ec5;">)</span>     <span style="color: #bc6ec5;">{</span> <span style="color: #4f97d7; font-weight: bold;">this</span>.dough = dough; <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setSauce</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">sauce</span><span style="color: #bc6ec5;">)</span>     <span style="color: #bc6ec5;">{</span> <span style="color: #4f97d7; font-weight: bold;">this</span>.sauce = sauce; <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setTopping</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">topping</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span> <span style="color: #4f97d7; font-weight: bold;">this</span>.topping = topping; <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2d9574;">''</span><span style="color: #2aa1ae; background-color: #292e34;">/** </span><span style="color: #2aa1ae; background-color: #292e34;">"Abstract Builder" */</span><span style="color: #2d9574;">''</span>
<span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #4f97d7; font-weight: bold;">class</span> pzBuilder<span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">protected</span> <span style="color: #ce537a; font-weight: bold;">Pizza</span> <span style="color: #7590db;">pizza</span>;

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Pizza</span> <span style="color: #bc6ec5; font-weight: bold;">getPizza</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span> <span style="color: #4f97d7; font-weight: bold;">return</span> pizza; <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">createNewPizzaProduct</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span> pizza = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Pizza</span><span style="color: #2d9574;">()</span>; <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildDough</span><span style="color: #bc6ec5;">()</span>;
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildSauce</span><span style="color: #bc6ec5;">()</span>;
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildTopping</span><span style="color: #bc6ec5;">()</span>;
<span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae;">/** "ConcreteBuilder" */</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">HawaiianPizzaBuilder</span> <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">pzBuilder</span><span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildDough</span><span style="color: #bc6ec5;">()</span>   <span style="color: #bc6ec5;">{</span> pizza.setDough<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"cross"</span><span style="color: #2d9574;">)</span>; <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildSauce</span><span style="color: #bc6ec5;">()</span>   <span style="color: #bc6ec5;">{</span> pizza.setSauce<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"mild"</span><span style="color: #2d9574;">)</span>; <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildTopping</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span> pizza.setTopping<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"ham+pineapple"</span><span style="color: #2d9574;">)</span>; <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae;">/** "ConcreteBuilder" */</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">SpicyPizzaBuilder</span> <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">pzBuilder</span><span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildDough</span><span style="color: #bc6ec5;">()</span>   <span style="color: #bc6ec5;">{</span> pizza.setDough<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"pan baked"</span><span style="color: #2d9574;">)</span>; <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildSauce</span><span style="color: #bc6ec5;">()</span>   <span style="color: #bc6ec5;">{</span> pizza.setSauce<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"hot"</span><span style="color: #2d9574;">)</span>; <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buildTopping</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span> pizza.setTopping<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"pepperoni+salami"</span><span style="color: #2d9574;">)</span>; <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Waiter</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">pzBuilderpizzaBuilder</span>;

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setBuilder</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">pzBuilderpb</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span> pbBuilder= pb; <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Pizza</span> <span style="color: #bc6ec5; font-weight: bold;">getPizza</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span> <span style="color: #4f97d7; font-weight: bold;">return</span> pbBuilder.getPizza<span style="color: #2d9574;">()</span>; <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">genPizza</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    pbBuilder.createNewPizzaProduct<span style="color: #2d9574;">()</span>;
    pbBuilder.buildDough<span style="color: #2d9574;">()</span>;
    pbBuilder.buildSauce<span style="color: #2d9574;">()</span>;
    pbBuilder.buildTopping<span style="color: #2d9574;">()</span>;
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae;">/** A customer ordering a pizza. */</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">1. set the builder</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">2. create something</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">BuilderExample</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #7590db;">args</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #ce537a; font-weight: bold;">Waiter</span> <span style="color: #7590db;">waiter</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Waiter</span><span style="color: #2d9574;">()</span>;
    pzBuilderhawaiian_pizzabuilder = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">HawaiianPizzaBuilder</span><span style="color: #2d9574;">()</span>;
    pzBuilderspicy_pizzabuilder = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">SpicyPizzaBuilder</span><span style="color: #2d9574;">()</span>;

    waiter.setBuilder<span style="color: #2d9574;">(</span> hawaiian_pizzabuilder <span style="color: #2d9574;">)</span>;
    waiter.genPizza<span style="color: #2d9574;">()</span>;

    <span style="color: #ce537a; font-weight: bold;">Pizza</span> <span style="color: #7590db;">pizza</span> = waiter.getPizza<span style="color: #2d9574;">()</span>;
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4264f08" class="outline-4">
<h4 id="org4264f08"><span class="section-number-4">1.4.2</span> code</h4>
</div>
</div>

<div id="outline-container-orgccb0b7e" class="outline-3">
<h3 id="orgccb0b7e"><span class="section-number-3">1.5</span> chain of responsibility&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgc7ad12e" class="outline-4">
<h4 id="orgc7ad12e"><span class="section-number-4">1.5.1</span> code</h4>
<div class="outline-text-4" id="text-1-5-1">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ce537a; font-weight: bold;">interface</span> <span style="color: #7590db;">Chain</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> abstract <span style="color: #ce537a; font-weight: bold;">void</span> setNext<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Chain</span> <span style="color: #7590db;">nextInChain</span><span style="color: #bc6ec5;">)</span>;
  <span style="color: #4f97d7; font-weight: bold;">public</span> abstract <span style="color: #ce537a; font-weight: bold;">void</span> process<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Number</span> <span style="color: #7590db;">request</span><span style="color: #bc6ec5;">)</span>;
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Number</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">int</span> number;

  <span style="color: #4f97d7; font-weight: bold;">public</span> Number<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">number</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">this</span>.number = number;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">int</span> getNumber<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">return</span> number;
  <span style="color: #bc6ec5;">}</span>

<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">NegativeProcessor</span> <span style="color: #ce537a; font-weight: bold;">implements</span> <span style="color: #7590db;">Chain</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">private</span> Chain nextInChain;

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> setNext<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Chain</span> <span style="color: #7590db;">c</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    nextInChain = c;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> process<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Number</span> <span style="color: #7590db;">request</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #2d9574;">(</span>request.getNumber<span style="color: #67b11d;">()</span> &lt; <span style="color: #a45bad;">0</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
      System.out.println<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"NegativeProcessor : "</span> + request.getNumber<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #2d9574;">{</span>
      nextInChain.process<span style="color: #67b11d;">(</span>request<span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">ZeroProcessor</span> <span style="color: #ce537a; font-weight: bold;">implements</span> <span style="color: #7590db;">Chain</span> <span style="color: #4f97d7;">{</span>

  <span style="color: #4f97d7; font-weight: bold;">private</span> Chain nextInChain;

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> setNext<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Chain</span> <span style="color: #7590db;">c</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    nextInChain = c;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> process<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Number</span> <span style="color: #7590db;">request</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #2d9574;">(</span>request.getNumber<span style="color: #67b11d;">()</span> == <span style="color: #a45bad;">0</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
      System.out.println<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"ZeroProcessor : "</span> + request.getNumber<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #2d9574;">{</span>
      nextInChain.process<span style="color: #67b11d;">(</span>request<span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">PositiveProcessor</span> <span style="color: #ce537a; font-weight: bold;">implements</span> <span style="color: #7590db;">Chain</span> <span style="color: #4f97d7;">{</span>

  <span style="color: #4f97d7; font-weight: bold;">private</span> Chain nextInChain;

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> setNext<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Chain</span> <span style="color: #7590db;">c</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    nextInChain = c;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> process<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Number</span> <span style="color: #7590db;">request</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #2d9574;">(</span>request.getNumber<span style="color: #67b11d;">()</span> &gt; <span style="color: #a45bad;">0</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
      System.out.println<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"PositiveProcessor : "</span> + request.getNumber<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #2d9574;">{</span>
      nextInChain.process<span style="color: #67b11d;">(</span>request<span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">TestChain</span> <span style="color: #4f97d7;">{</span><span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> main<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> args<span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">configure Chain of Responsibility</span>
    <span style="color: #ce537a; font-weight: bold;">Chain</span> <span style="color: #7590db;">c1</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">NegativeProcessor</span><span style="color: #2d9574;">()</span>;
    <span style="color: #ce537a; font-weight: bold;">Chain</span> <span style="color: #7590db;">c2</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">ZeroProcessor</span><span style="color: #2d9574;">()</span>;
    <span style="color: #ce537a; font-weight: bold;">Chain</span> <span style="color: #7590db;">c3</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">PositiveProcessor</span><span style="color: #2d9574;">()</span>;
    c1.setNext<span style="color: #2d9574;">(</span>c2<span style="color: #2d9574;">)</span>;
    c2.setNext<span style="color: #2d9574;">(</span>c3<span style="color: #2d9574;">)</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">calling chain of responsibility</span>
    c1.process<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Number</span><span style="color: #67b11d;">(</span><span style="color: #a45bad;">90</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>;
    c1.process<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Number</span><span style="color: #67b11d;">(</span>-<span style="color: #a45bad;">50</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>;
    c1.process<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Number</span><span style="color: #67b11d;">(</span><span style="color: #a45bad;">0</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>;
    c1.process<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Number</span><span style="color: #67b11d;">(</span><span style="color: #a45bad;">91</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>;
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #7590db;">Output</span> :


PositiveProcessor : <span style="color: #a45bad;">90</span>
NegativeProcessor : -<span style="color: #a45bad;">50</span>
ZeroProcessor : <span style="color: #a45bad;">0</span>
PositiveProcessor : <span style="color: #a45bad;">91</span>


</pre>
</div>

<div class="org-src-container">
<pre class="src src-org">
<span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* Adv</span>
-  To reduce the coupling degree. Decoupling it will request the sender and receiver.
-  Simplified object. The object does not need to know the chain structure.
- Enhance flexibility of object assigned duties. By changing the members within
  the chain or change their order, allow dynamic adding or deleting
  responsibility.
-  Increase the request processing new class of very convenient.

<span style="color: #4f97d7; font-size: 130%; font-weight: bold;">* disAdv</span>

- The request must be received not guarantee.
- The performance of the system will be affected, but also in the code debugging is not easy may cause cycle call.
- It may not be easy to observe the characteristics of operation, due to debug.
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org56bc7d6" class="outline-3">
<h3 id="org56bc7d6"><span class="section-number-3">1.6</span> command pattern&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-6">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org1a4a64f" class="outline-4">
<h4 id="org1a4a64f"><span class="section-number-4">1.6.1</span> code</h4>
<div class="outline-text-4" id="text-1-6-1">
<div class="org-src-container">
<pre class="src src-java"><span style="color: #2aa1ae; background-color: #292e34;">/*</span>
<span style="color: #2aa1ae; background-color: #292e34;">1. remote control only receive commands</span>
<span style="color: #2aa1ae; background-color: #292e34;">2. command need a subject</span>
<span style="color: #2aa1ae; background-color: #292e34;">3. command examples : lightOn, lightOff, StereoPlay, StereoStop</span>
<span style="color: #2aa1ae; background-color: #292e34;">4. remote control, button pressed</span>
<span style="color: #2aa1ae; background-color: #292e34;"> */</span>
<span style="color: #4f97d7; font-weight: bold;">interface</span> <span style="color: #ce537a; font-weight: bold;">Command</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">execute</span><span style="color: #bc6ec5;">()</span>;
 <span style="color: #4f97d7;">}</span>

 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Light</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">on</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Light is on"</span><span style="color: #2d9574;">)</span>;
     <span style="color: #bc6ec5;">}</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">off</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Light is off"</span><span style="color: #2d9574;">)</span>;
     <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>
 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">LightOnCommand</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Command</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #ce537a; font-weight: bold;">Light</span> <span style="color: #7590db;">light</span>;
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">LightOnCommand</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Light</span> <span style="color: #7590db;">light</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">this</span>.light = light;
     <span style="color: #bc6ec5;">}</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">execute</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        light.on<span style="color: #2d9574;">()</span>;
     <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>
 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">LightOffCommand</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Command</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #ce537a; font-weight: bold;">Light</span> <span style="color: #7590db;">light</span>;
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">LightOffCommand</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Light</span> <span style="color: #7590db;">light</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
         <span style="color: #4f97d7; font-weight: bold;">this</span>.light = light;
     <span style="color: #bc6ec5;">}</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">execute</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
          light.off<span style="color: #2d9574;">()</span>;
     <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>
 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Stereo</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">on</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Stereo is on"</span><span style="color: #2d9574;">)</span>;
     <span style="color: #bc6ec5;">}</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">off</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Stereo is off"</span><span style="color: #2d9574;">)</span>;
     <span style="color: #bc6ec5;">}</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setCD</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Stereo is set "</span> + <span style="color: #2d9574;">"for CD input"</span><span style="color: #2d9574;">)</span>;
     <span style="color: #bc6ec5;">}</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setDVD</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Stereo is set"</span>+ <span style="color: #2d9574;">" for DVD input"</span><span style="color: #2d9574;">)</span>;
     <span style="color: #bc6ec5;">}</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setRadio</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Stereo is set"</span> + <span style="color: #2d9574;">" for Radio"</span><span style="color: #2d9574;">)</span>;
     <span style="color: #bc6ec5;">}</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setVolume</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">volume</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Stereo volume set"</span> + <span style="color: #2d9574;">" to "</span> + volume<span style="color: #2d9574;">)</span>;
     <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>
 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">StereoOffCommand</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Command</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #ce537a; font-weight: bold;">Stereo</span> <span style="color: #7590db;">stereo</span>;
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">StereoOffCommand</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Stereo</span> <span style="color: #7590db;">stereo</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
         <span style="color: #4f97d7; font-weight: bold;">this</span>.stereo = stereo;
     <span style="color: #bc6ec5;">}</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">execute</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        stereo.off<span style="color: #2d9574;">()</span>;
     <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>
 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">StereoOnWithCDCommand</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Command</span> <span style="color: #4f97d7;">{</span>
      <span style="color: #ce537a; font-weight: bold;">Stereo</span> <span style="color: #7590db;">stereo</span>;
      <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">StereoOnWithCDCommand</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Stereo</span> <span style="color: #7590db;">stereo</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
          <span style="color: #4f97d7; font-weight: bold;">this</span>.stereo = stereo;
      <span style="color: #bc6ec5;">}</span>
      <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">execute</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
          stereo.on<span style="color: #2d9574;">()</span>;
          stereo.setCD<span style="color: #2d9574;">()</span>;
          stereo.setVolume<span style="color: #2d9574;">(</span><span style="color: #a45bad;">11</span><span style="color: #2d9574;">)</span>;
      <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>
 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">SimpleRemoteControl</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #ce537a; font-weight: bold;">Command</span> <span style="color: #7590db;">slot</span>;  <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">only one button</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">SimpleRemoteControl</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{}</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setCommand</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Command</span> <span style="color: #7590db;">command</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
         slot = command;
     <span style="color: #bc6ec5;">}</span>

     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">buttonWasPressed</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
         slot.execute<span style="color: #2d9574;">()</span>;
     <span style="color: #bc6ec5;">}</span>
 <span style="color: #4f97d7;">}</span>

 <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">RemoteControlTest</span> <span style="color: #4f97d7;">{</span>
     <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #7590db;">args</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
         <span style="color: #ce537a; font-weight: bold;">SimpleRemoteControl</span> <span style="color: #7590db;">remote</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">SimpleRemoteControl</span><span style="color: #2d9574;">()</span>;
         <span style="color: #ce537a; font-weight: bold;">Light</span> <span style="color: #7590db;">light</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Light</span><span style="color: #2d9574;">()</span>;
         <span style="color: #ce537a; font-weight: bold;">Stereo</span> <span style="color: #7590db;">stereo</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Stereo</span><span style="color: #2d9574;">()</span>;
         <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">we can change command dynamically</span>
         remote.setCommand<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">LightOnCommand</span><span style="color: #67b11d;">(</span>light<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>;
         remote.buttonWasPressed<span style="color: #2d9574;">()</span>;
         remote.setCommand<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">StereoOnWithCDCommand</span><span style="color: #67b11d;">(</span>stereo<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>;
         remote.buttonWasPressed<span style="color: #2d9574;">()</span>;
         remote.setCommand<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">StereoOffCommand</span><span style="color: #67b11d;">(</span>stereo<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>;
         remote.buttonWasPressed<span style="color: #2d9574;">()</span>;
      <span style="color: #bc6ec5;">}</span>
   <span style="color: #4f97d7;">}</span>


 <span style="color: #a45bad;">Output</span>:

 Light is on
 Stereo is on
 Stereo <span style="color: #ce537a; font-weight: bold;">is</span> <span style="color: #7590db;">set</span> <span style="color: #4f97d7; font-weight: bold;">for</span> CD input
 Stereo volume set to <span style="color: #a45bad;">11</span>
 Stereo is off


 Notice that the remote control doesn&#8217;t know anything about turning on the
 <span style="color: #a45bad;">stereo</span>. That information is contained in a separate command <span style="color: #a45bad;">object</span>. This
 reduces the coupling between <span style="color: #a45bad;">them</span>.

 Advantages:

** Makes our code extensible as we can add <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">commands</span> without changing existing <span style="color: #a45bad;">code</span>.
** Reduces coupling the invoker and receiver of a <span style="color: #a45bad;">command</span>.

 Disadvantages:

** Increase in the number of classes <span style="color: #4f97d7; font-weight: bold;">for</span> each individual command
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgca05468" class="outline-3">
<h3 id="orgca05468"><span class="section-number-3">1.7</span> CRTP&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-7">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li><a href="https://stackoverflow.com/questions/4173254/what-is-the-curiously-recurring-template-pattern-crtp">https://stackoverflow.com/questions/4173254/what-is-the-curiously-recurring-template-pattern-crtp</a></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgf3b1665" class="outline-4">
<h4 id="orgf3b1665"><span class="section-number-4">1.7.1</span> code</h4>
<div class="outline-text-4" id="text-1-7-1">
<div class="org-src-container">
<pre class="src src-cpp">Curiously Recurring <span style="color: #ce537a; font-weight: bold;">Template</span> <span style="color: #bc6ec5; font-weight: bold;">Pattern</span>
<span style="color: #4f97d7;">(</span>CRTP<span style="color: #4f97d7;">)</span>
<span style="color: #a45bad;">1</span>. avoid Usage of VPtr <span style="color: #4f97d7; font-weight: bold;">and</span> VTable can be avoided altogether
<span style="color: #a45bad;">2</span>. a <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">X</span> derives from a <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #4f97d7; font-weight: bold;">template</span> <span style="color: #ce537a; font-weight: bold;">instantiation</span> <span style="color: #4f97d7; font-weight: bold;">using</span> X itself as <span style="color: #4f97d7; font-weight: bold;">template</span> argument.

<span style="color: #a45bad;">3</span>. known as F-bound polymorphism.


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Image program (similar to above) to demonstrate</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">working of CRTP</span>
<span style="color: #bc6ec5;">#include</span> <span style="color: #4f97d7;">&lt;</span><span style="color: #2d9574;">iostream</span><span style="color: #4f97d7;">&gt;</span>
<span style="color: #bc6ec5;">#include</span> <span style="color: #4f97d7;">&lt;</span><span style="color: #2d9574;">chrono</span><span style="color: #4f97d7;">&gt;</span>
<span style="color: #4f97d7; font-weight: bold;">using</span> <span style="color: #4f97d7; font-weight: bold;">namespace</span> <span style="color: #a45bad;">std</span>;

<span style="color: #4f97d7; font-weight: bold;">typedef</span> <span style="color: #a45bad;">std</span>::<span style="color: #a45bad;">chrono</span>::<span style="color: #ce537a; font-weight: bold;">high_resolution_clock</span> <span style="color: #ce537a; font-weight: bold;">Clock</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">To store dimensions of an image</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Dimension</span>
<span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #bc6ec5; font-weight: bold;">Dimension</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">_X</span>, <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">_Y</span><span style="color: #bc6ec5;">)</span>
    <span style="color: #bc6ec5;">{</span>
        mX = _X;
        mY = _Y;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7; font-weight: bold;">private</span>:
    <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">mX</span>, <span style="color: #7590db;">mY</span>;
<span style="color: #4f97d7;">}</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Base class for all image types. The template</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">parameter T is used to know type of derived</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">class pointed by pointer.</span>
<span style="color: #4f97d7; font-weight: bold;">template</span> <span style="color: #4f97d7;">&lt;</span><span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">T</span><span style="color: #4f97d7;">&gt;</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Image</span>
<span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">Draw</span><span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Dispatch call to exact type</span>
        <span style="color: #4f97d7; font-weight: bold;">static_cast</span><span style="color: #2d9574;">&lt;</span><span style="color: #ce537a; font-weight: bold;">T</span>*<span style="color: #2d9574;">&gt;</span> <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">this</span><span style="color: #2d9574;">)</span>-&gt;Draw<span style="color: #2d9574;">()</span>;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #ce537a; font-weight: bold;">Dimension</span> <span style="color: #bc6ec5; font-weight: bold;">GetDimensionInPixels</span><span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Dispatch call to exact type</span>
        <span style="color: #4f97d7; font-weight: bold;">static_cast</span><span style="color: #2d9574;">&lt;</span><span style="color: #ce537a; font-weight: bold;">T</span>*<span style="color: #2d9574;">&gt;</span> <span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">this</span><span style="color: #2d9574;">)</span>-&gt;GetDimensionInPixels<span style="color: #2d9574;">()</span>;
    <span style="color: #bc6ec5;">}</span>

<span style="color: #4f97d7; font-weight: bold;">protected</span>:
    <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">dimensionX</span>, <span style="color: #7590db;">dimensionY</span>;
<span style="color: #4f97d7;">}</span>;


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">For Tiff Images</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">TiffImage</span> : <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Image</span><span style="color: #4f97d7;">&lt;</span><span style="color: #ce537a; font-weight: bold;">TiffImage</span><span style="color: #4f97d7;">&gt;</span>
<span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">Draw</span><span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Uncomment this to check method dispatch</span>
        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">cout &lt;&lt; "TiffImage::Draw() called" &lt;&lt; endl;</span>
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #ce537a; font-weight: bold;">Dimension</span> <span style="color: #bc6ec5; font-weight: bold;">GetDimensionInPixels</span><span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> Dimension<span style="color: #2d9574;">(</span>dimensionX, dimensionY<span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">There can be more derived classes like PngImage,</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">BitmapImage, etc</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Driver code</span>
<span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #4f97d7;">()</span>
<span style="color: #4f97d7;">{</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">An Image type pointer pointing to Tiffimage</span>
    <span style="color: #ce537a; font-weight: bold;">Image</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">TiffImage</span><span style="color: #bc6ec5;">&gt;</span>* <span style="color: #7590db;">pImage</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">TiffImage</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Store time before virtual function calls</span>
    <span style="color: #4f97d7; font-weight: bold;">auto</span> <span style="color: #7590db;">then</span> = <span style="color: #a45bad;">Clock</span>::now<span style="color: #bc6ec5;">()</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Call Draw 1000 times to make sure performance</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">is visible</span>
    <span style="color: #4f97d7; font-weight: bold;">for</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">i</span> = <span style="color: #a45bad;">0</span>; i &lt; <span style="color: #a45bad;">1000</span>; ++i<span style="color: #bc6ec5;">)</span>
        pImage-&gt;Draw<span style="color: #bc6ec5;">()</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Store time after virtual function calls</span>
    <span style="color: #4f97d7; font-weight: bold;">auto</span> <span style="color: #7590db;">now</span> = <span style="color: #a45bad;">Clock</span>::now<span style="color: #bc6ec5;">()</span>;

    cout &lt;&lt; <span style="color: #2d9574;">"Time taken: "</span>
         &lt;&lt; <span style="color: #a45bad;">std</span>::<span style="color: #a45bad;">chrono</span>::duration_cast
         <span style="color: #bc6ec5;">&lt;</span><span style="color: #a45bad;">std</span>::<span style="color: #a45bad;">chrono</span>::nanoseconds<span style="color: #bc6ec5;">&gt;(</span>now - then<span style="color: #bc6ec5;">)</span>.count<span style="color: #bc6ec5;">()</span>
         &lt;&lt; <span style="color: #2d9574;">" nanoseconds"</span> &lt;&lt; endl;

    <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">0</span>;
<span style="color: #4f97d7;">}</span>


Output :

Time taken: <span style="color: #a45bad;">732</span> nanoseconds


See <span style="color: #4f97d7; font-weight: bold;">this</span> <span style="color: #4f97d7; font-weight: bold;">for</span> above result.

Virtual method vs CRTP benchmark
The time taken <span style="color: #4f97d7; font-weight: bold;">while</span> <span style="color: #4f97d7; font-weight: bold;">using</span> <span style="color: #4f97d7; font-weight: bold;">virtual</span> method was <span style="color: #a45bad;">2613</span> nanoseconds. This <span style="color: #4f97d7;">(</span>small<span style="color: #4f97d7;">)</span>
performance gain from CRTP is because the use of a VTable dispatch has <span style="color: #ce537a; font-weight: bold;">been</span>
<span style="color: #7590db;">circumvented</span>. Please note that the performance depends on a lot of factors like
compiler used, <span style="color: #7590db;">operations</span> performed by <span style="color: #4f97d7; font-weight: bold;">virtual</span> methods. Performance numbers
might differ in different runs, <span style="color: #bc6ec5; font-weight: bold;">but</span> <span style="color: #4f97d7;">(</span>small<span style="color: #4f97d7;">)</span> performance gain is expected <span style="color: #ce537a; font-weight: bold;">from</span>
<span style="color: #7590db;">CRTP</span>. Note: If we print size of <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">in</span> CRTP, <span style="color: #7590db;">it</span> can bee seen that VPtr no
longer reserves <span style="color: #a45bad;">4</span> bytes of memory.


cout <span style="color: #e0211d; text-decoration: overline;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org03c9ac1" class="outline-3">
<h3 id="org03c9ac1"><span class="section-number-3">1.8</span> decorator: keep a abstract as a member and this is also this type&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-8">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgde1e0b1" class="outline-4">
<h4 id="orgde1e0b1"><span class="section-number-4">1.8.1</span> cpp</h4>
<div class="outline-text-4" id="text-1-8-1">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #bc6ec5;">#include</span> <span style="color: #4f97d7;">&lt;</span><span style="color: #2d9574;">iostream</span><span style="color: #4f97d7;">&gt;</span>

<span style="color: #4f97d7; font-weight: bold;">using</span> <span style="color: #4f97d7; font-weight: bold;">namespace</span> <span style="color: #a45bad;">std</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Widget</span> <span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
  <span style="color: #4f97d7; font-weight: bold;">virtual</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> = <span style="color: #a45bad;">0</span>;
  <span style="color: #4f97d7; font-weight: bold;">virtual</span> ~<span style="color: #bc6ec5; font-weight: bold;">Widget</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{}</span>
<span style="color: #4f97d7;">}</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">TextField</span> : <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Widget</span> <span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">private</span>:
  <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">width</span>, <span style="color: #7590db;">height</span>;

<span style="color: #4f97d7; font-weight: bold;">public</span>:
  <span style="color: #bc6ec5; font-weight: bold;">TextField</span><span style="color: #bc6ec5;">(</span> <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">w</span>, <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">h</span> <span style="color: #bc6ec5;">){</span>
    width  = w;
    height = h;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    cout &lt;&lt; <span style="color: #2d9574;">"TextField: "</span> &lt;&lt; width &lt;&lt; <span style="color: #2d9574;">", "</span> &lt;&lt; height &lt;&lt; <span style="color: #2d9574;">'\n'</span>;
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Decorator</span> : <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Widget</span> <span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">private</span>:
  <span style="color: #ce537a; font-weight: bold;">Widget</span>* <span style="color: #7590db;">wid</span>;       <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">reference to Widget</span>

<span style="color: #4f97d7; font-weight: bold;">public</span>:
  <span style="color: #bc6ec5; font-weight: bold;">Decorator</span><span style="color: #bc6ec5;">(</span> <span style="color: #ce537a; font-weight: bold;">Widget</span>* <span style="color: #7590db;">w</span> <span style="color: #bc6ec5;">)</span>  <span style="color: #bc6ec5;">{</span>
    wid = w;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    wid-&gt;draw<span style="color: #2d9574;">()</span>;
  <span style="color: #bc6ec5;">}</span>

  ~<span style="color: #bc6ec5; font-weight: bold;">Decorator</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">delete</span> wid;
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">BorderDecorator</span> : <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Decorator</span> <span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
  <span style="color: #bc6ec5; font-weight: bold;">BorderDecorator</span><span style="color: #bc6ec5;">(</span> <span style="color: #ce537a; font-weight: bold;">Widget</span>* <span style="color: #7590db;">w</span> <span style="color: #bc6ec5;">)</span> : Decorator<span style="color: #bc6ec5;">(</span> w <span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span> <span style="color: #bc6ec5;">}</span>
  <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #a45bad;">Decorator</span>::draw<span style="color: #2d9574;">()</span>;
    cout &lt;&lt; <span style="color: #2d9574;">"   BorderDecorator"</span> &lt;&lt; <span style="color: #2d9574;">'\n'</span>;
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">ScrollDecorator</span> : <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Decorator</span> <span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
  <span style="color: #bc6ec5; font-weight: bold;">ScrollDecorator</span><span style="color: #bc6ec5;">(</span> <span style="color: #ce537a; font-weight: bold;">Widget</span>* <span style="color: #7590db;">w</span> <span style="color: #bc6ec5;">)</span> : Decorator<span style="color: #bc6ec5;">(</span> w <span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span> <span style="color: #bc6ec5;">}</span>
  <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #a45bad;">Decorator</span>::draw<span style="color: #2d9574;">()</span>;
    cout &lt;&lt; <span style="color: #2d9574;">"   ScrollDecorator"</span> &lt;&lt; <span style="color: #2d9574;">'\n'</span>;
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>;

<span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #4f97d7;">(</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #4f97d7;">)</span> <span style="color: #4f97d7;">{</span>

  <span style="color: #ce537a; font-weight: bold;">Widget</span>* <span style="color: #7590db;">aWidget</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">BorderDecorator</span><span style="color: #bc6ec5;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">BorderDecorator</span><span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">ScrollDecorator</span><span style="color: #67b11d;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">TextField</span><span style="color: #b1951d;">(</span> <span style="color: #a45bad;">80</span>, <span style="color: #a45bad;">24</span> <span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span><span style="color: #bc6ec5;">)</span>;
  aWidget-&gt;draw<span style="color: #bc6ec5;">()</span>;
  <span style="color: #4f97d7; font-weight: bold;">delete</span> aWidget;
<span style="color: #4f97d7;">}</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">TextField: 80, 24</span>
<span style="color: #2aa1ae; background-color: #292e34;">//             </span><span style="color: #2aa1ae; background-color: #292e34;">ScrollDecorator</span>
<span style="color: #2aa1ae; background-color: #292e34;">//             </span><span style="color: #2aa1ae; background-color: #292e34;">BorderDecorator</span>
<span style="color: #2aa1ae; background-color: #292e34;">//             </span><span style="color: #2aa1ae; background-color: #292e34;">BorderDecorator</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgcb91d9a" class="outline-4">
<h4 id="orgcb91d9a"><span class="section-number-4">1.8.2</span> code</h4>
<div class="outline-text-4" id="text-1-8-2">
<div class="org-src-container">
<pre class="src src-java"><span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">The Window interface class</span>
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">interface</span> <span style="color: #ce537a; font-weight: bold;">Window</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span>; <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Draws the Window</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">getDescription</span><span style="color: #bc6ec5;">()</span>; <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Returns a description of the Window</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">implementation of a simple Window without any scrollbars</span>
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">SimpleWindow</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Window</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Draw window</span>
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">getDescription</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">"simple window"</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">abstract decorator class - note that it implements Window</span>
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">WindowDecorator</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Window</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">protected</span> <span style="color: #ce537a; font-weight: bold;">Window</span> <span style="color: #7590db;">decoratedWindow</span>; <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">the Window being decorated</span>

    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">WindowDecorator</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Window</span> <span style="color: #7590db;">decoratedWindow</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">this</span>.decoratedWindow = decoratedWindow;
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #a45bad;">@Override</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        decoratedWindow.draw<span style="color: #2d9574;">()</span>;
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #a45bad;">@Override</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">getDescription</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> decoratedWindow.getDescription<span style="color: #2d9574;">()</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">The first concrete decorator which adds vertical scrollbar functionality</span>
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">VerticalScrollBar</span> <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">WindowDecorator</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">VerticalScrollBar</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Window</span> <span style="color: #7590db;">windowToBeDecorated</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">super</span><span style="color: #2d9574;">(</span>windowToBeDecorated<span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #a45bad;">@Override</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">super</span>.draw<span style="color: #2d9574;">()</span>;
        drawVerticalScrollBar<span style="color: #2d9574;">()</span>;
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">drawVerticalScrollBar</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Draw the vertical scrollbar</span>
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #a45bad;">@Override</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">getDescription</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">super</span>.getDescription<span style="color: #2d9574;">()</span> + <span style="color: #2d9574;">", including vertical scrollbars"</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">The second concrete decorator which adds horizontal scrollbar functionality</span>
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">HorizontalScrollBar</span> <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">WindowDecorator</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">HorizontalScrollBar</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Window</span> <span style="color: #7590db;">windowToBeDecorated</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">super</span><span style="color: #2d9574;">(</span>windowToBeDecorated<span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #a45bad;">@Override</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">super</span>.draw<span style="color: #2d9574;">()</span>;
        drawHorizontalScrollBar<span style="color: #2d9574;">()</span>;
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">drawHorizontalScrollBar</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Draw the horizontal scrollbar</span>
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #a45bad;">@Override</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">getDescription</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">super</span>.getDescription<span style="color: #2d9574;">()</span> + <span style="color: #2d9574;">", including horizontal scrollbars"</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
<span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">&#20197;&#19979;&#26159;&#19968;&#20491;&#28204;&#35430;&#31243;&#24207;&#65292;&#23427;&#21109;&#24314;&#20102;&#19968;&#20491;&#21253;&#21547;&#22810;&#37325;&#35037;&#39166;&#30340;Window&#23526;&#20363;(&#22914;,&#21253;&#21547;&#20102;&#22402;&#30452;&#30340;&#21644;&#27700;&#24179;&#30340;&#28414;&#21205;&#26781;),&#28982;&#24460;&#36664;&#20986;&#23427;&#30340;&#25551;&#36848;&#65306;</span>
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Main</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">for print descriptions of the window subclasses</span>
    <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">printInfo</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Window</span> <span style="color: #7590db;">w</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"description:"</span>+w.getDescription<span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #7590db;">args</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">original SimpleWindow</span>
        <span style="color: #ce537a; font-weight: bold;">SimpleWindow</span> <span style="color: #7590db;">sw</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">SimpleWindow</span><span style="color: #2d9574;">()</span>;
        printInfo<span style="color: #2d9574;">(</span>sw<span style="color: #2d9574;">)</span>;
        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">HorizontalScrollBar  mixed Window</span>
        <span style="color: #ce537a; font-weight: bold;">HorizontalScrollBar</span> <span style="color: #7590db;">hbw</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">HorizontalScrollBar</span><span style="color: #2d9574;">(</span>sw<span style="color: #2d9574;">)</span>;
        printInfo<span style="color: #2d9574;">(</span>hbw<span style="color: #2d9574;">)</span>;
        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">VerticalScrollBar mixed Window</span>
        <span style="color: #ce537a; font-weight: bold;">VerticalScrollBar</span> <span style="color: #7590db;">vbw</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">VerticalScrollBar</span><span style="color: #2d9574;">(</span>hbw<span style="color: #2d9574;">)</span>;
        printInfo<span style="color: #2d9574;">(</span>vbw<span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
<span style="color: #2aa1ae; background-color: #292e34;">/*</span>
<span style="color: #2aa1ae; background-color: #292e34;">  &#20197;&#19979;&#26159;SimpleWindow&#21450;&#28155;&#21152;&#20102;&#32068;&#20214;HorizontalScrollBar&#21644;VerticalScrollBar&#24460;&#30340;Window&#28204;&#35430;&#32080;&#26524;&#65306;</span>
<span style="color: #2aa1ae; background-color: #292e34;">  description:simple window</span>
<span style="color: #2aa1ae; background-color: #292e34;">  description:simple window, including horizontal scrollbars</span>
<span style="color: #2aa1ae; background-color: #292e34;">  description:simple window, including horizontal scrollbars, including vertical scrollbars</span>

<span style="color: #2aa1ae; background-color: #292e34;">*/</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga049bc6" class="outline-3">
<h3 id="orga049bc6"><span class="section-number-3">1.9</span> factory method&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-9">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org9558bbe" class="outline-4">
<h4 id="org9558bbe"><span class="section-number-4">1.9.1</span> code</h4>
<div class="outline-text-4" id="text-1-9-1">
<div class="org-src-container">
<pre class="src src-csharp">public class Complex{
    public double rl;
    public double img;
    public static Complex fromCartesianFactory(double rl, double img) {
        return new Complex(rl, img);
    }

    public static Complex fromPolarFactory(double modulus , double angle ) {
        return new Complex(modulus * Math.Cos(angle), modulus * Math.Sin(angle));
    }

    private Complex (double a, double b) {
        rl= a;
        img= b;
    }
}

Complex product = Complex.fromPolarFactory(1,pi);
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9148ee7" class="outline-3">
<h3 id="org9148ee7"><span class="section-number-3">1.10</span> flyweight&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-10">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgcf4c295" class="outline-4">
<h4 id="orgcf4c295"><span class="section-number-4">1.10.1</span> code</h4>
<div class="outline-text-4" id="text-1-10-1">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #ce537a; font-weight: bold;">import</span> <span style="color: #7590db;">java</span>.util.Random;
<span style="color: #ce537a; font-weight: bold;">import</span> <span style="color: #7590db;">java</span>.util.HashMap;
<span style="color: #ce537a; font-weight: bold;">interface</span> <span style="color: #7590db;">Player</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> assignWeapon<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">weapon</span><span style="color: #bc6ec5;">)</span>;
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> mission<span style="color: #bc6ec5;">()</span>;
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Terrorist</span> <span style="color: #ce537a; font-weight: bold;">implements</span> <span style="color: #7590db;">Player</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">final</span> String TASK;

    <span style="color: #4f97d7; font-weight: bold;">private</span> String weapon;
    <span style="color: #4f97d7; font-weight: bold;">public</span> Terrorist<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        TASK = <span style="color: #2d9574;">"PLANT A BOMB"</span>;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> assignWeapon<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">weapon</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">this</span>.weapon = weapon;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> mission<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Terrorist with weapon "</span> + weapon + <span style="color: #2d9574;">"|"</span> + <span style="color: #2d9574;">" Task is "</span> + TASK<span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">CounterTerrorist</span> <span style="color: #ce537a; font-weight: bold;">implements</span> <span style="color: #7590db;">Player</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">final</span> String TASK;

    <span style="color: #4f97d7; font-weight: bold;">private</span> String weapon;
    <span style="color: #4f97d7; font-weight: bold;">public</span> CounterTerrorist<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        TASK = <span style="color: #2d9574;">"DIFFUSE BOMB"</span>;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> assignWeapon<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">weapon</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">this</span>.weapon = weapon;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> mission<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Counter Terrorist with weapon "</span> + weapon + <span style="color: #2d9574;">"|"</span> + <span style="color: #2d9574;">" Task is "</span> + TASK<span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">PlayerFactory</span><span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">HashMap</span> <span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">String</span>, Player<span style="color: #bc6ec5;">&gt;</span> hm = <span style="color: #4f97d7; font-weight: bold;">new</span> HashMap<span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">String</span>, Player<span style="color: #bc6ec5;">&gt;()</span>;
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> Player getPlayer<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">type</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #ce537a; font-weight: bold;">Player</span> <span style="color: #7590db;">p</span> = null;
        <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #2d9574;">(</span>hm.containsKey<span style="color: #67b11d;">(</span>type<span style="color: #67b11d;">)</span><span style="color: #2d9574;">)</span>
                p = hm.get<span style="color: #2d9574;">(</span>type<span style="color: #2d9574;">)</span>;
        <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #2d9574;">{</span>
            <span style="color: #4f97d7; font-weight: bold;">switch</span><span style="color: #67b11d;">(</span>type<span style="color: #67b11d;">)</span> <span style="color: #67b11d;">{</span>
            <span style="color: #4f97d7; font-weight: bold;">case</span> <span style="color: #2d9574;">"Terrorist"</span>:
                System.out.println<span style="color: #b1951d;">(</span><span style="color: #2d9574;">"Terrorist Created"</span><span style="color: #b1951d;">)</span>;
                p = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Terrorist</span><span style="color: #b1951d;">()</span>;
                <span style="color: #4f97d7; font-weight: bold;">break</span>;
            <span style="color: #4f97d7; font-weight: bold;">case</span> <span style="color: #2d9574;">"CounterTerrorist"</span>:
                System.out.println<span style="color: #b1951d;">(</span><span style="color: #2d9574;">"Counter Terrorist Created"</span><span style="color: #b1951d;">)</span>;
                p = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">CounterTerrorist</span><span style="color: #b1951d;">()</span>;
                <span style="color: #4f97d7; font-weight: bold;">break</span>;
            <span style="color: #4f97d7; font-weight: bold;">default</span> :
                System.out.println<span style="color: #b1951d;">(</span><span style="color: #2d9574;">"Unreachable code!"</span><span style="color: #b1951d;">)</span>;
            <span style="color: #67b11d;">}</span>

            hm.put<span style="color: #67b11d;">(</span>type, p<span style="color: #67b11d;">)</span>;
        <span style="color: #2d9574;">}</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> p;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">CounterStrike</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> String<span style="color: #bc6ec5;">[]</span> playerType = <span style="color: #bc6ec5;">{</span><span style="color: #2d9574;">"Terrorist"</span>, <span style="color: #2d9574;">"CounterTerrorist"</span><span style="color: #bc6ec5;">}</span>;
    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> String<span style="color: #bc6ec5;">[]</span> weapons = <span style="color: #bc6ec5;">{</span><span style="color: #2d9574;">"AK-47"</span>, <span style="color: #2d9574;">"Maverick"</span>, <span style="color: #2d9574;">"Gut Knife"</span>, <span style="color: #2d9574;">"Desert Eagle"</span><span style="color: #bc6ec5;">}</span>;


    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> main<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">args</span><span style="color: #2d9574;">[]</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #2aa1ae; background-color: #292e34;">/* </span><span style="color: #2aa1ae; background-color: #292e34;">Assume that we have a total of 10 players</span>
<span style="color: #2aa1ae; background-color: #292e34;">           in the game. */</span>
        <span style="color: #4f97d7; font-weight: bold;">for</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">i</span> = <span style="color: #a45bad;">0</span>; i &lt; <span style="color: #a45bad;">10</span>; i++<span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
            <span style="color: #2aa1ae; background-color: #292e34;">/* </span><span style="color: #2aa1ae; background-color: #292e34;">getPlayer() is called simply using the class</span>
<span style="color: #2aa1ae; background-color: #292e34;">               name since the method is a static one */</span>
            <span style="color: #ce537a; font-weight: bold;">Player</span> <span style="color: #7590db;">p</span> = PlayerFactory.getPlayer<span style="color: #67b11d;">(</span>getRandPlayerType<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;
            <span style="color: #2aa1ae; background-color: #292e34;">/* </span><span style="color: #2aa1ae; background-color: #292e34;">Assign a weapon chosen randomly uniformly</span>
<span style="color: #2aa1ae; background-color: #292e34;">               from the weapon array  */</span>
            p.assignWeapon<span style="color: #67b11d;">(</span>getRandWeapon<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;
            p.mission<span style="color: #67b11d;">()</span>;
        <span style="color: #2d9574;">}</span>
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> String getRandPlayerType<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #ce537a; font-weight: bold;">Random</span> <span style="color: #7590db;">r</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Random</span><span style="color: #2d9574;">()</span>;
        <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">randInt</span> = r.nextInt<span style="color: #2d9574;">(</span>playerType.length<span style="color: #2d9574;">)</span>;
        <span style="color: #4f97d7; font-weight: bold;">return</span> playerType<span style="color: #2d9574;">[</span>randInt<span style="color: #2d9574;">]</span>;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> String getRandWeapon<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #ce537a; font-weight: bold;">Random</span> <span style="color: #7590db;">r</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Random</span><span style="color: #2d9574;">()</span>;
        <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">randInt</span> = r.nextInt<span style="color: #2d9574;">(</span>weapons.length<span style="color: #2d9574;">)</span>;
        <span style="color: #4f97d7; font-weight: bold;">return</span> weapons<span style="color: #2d9574;">[</span>randInt<span style="color: #2d9574;">]</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #a45bad;">Output</span>:
Counter <span style="color: #ce537a; font-weight: bold;">Terrorist</span> Created
Counter <span style="color: #ce537a; font-weight: bold;">Terrorist</span> with weapon <span style="color: #ce537a; font-weight: bold;">Gut</span> <span style="color: #7590db;">Knife</span>| Task is DIFFUSE BOMB
Counter Terrorist with weapon Desert Eagle| Task is DIFFUSE BOMB
Terrorist Created
Terrorist with weapon AK-<span style="color: #a45bad;">47</span>| Task is PLANT A BOMB
Terrorist with weapon Gut Knife| Task is PLANT A BOMB
Terrorist with weapon Gut Knife| Task is PLANT A BOMB
Terrorist with weapon Desert Eagle| Task is PLANT A BOMB
Terrorist with weapon AK-<span style="color: #a45bad;">47</span>| Task is PLANT A BOMB
Counter Terrorist with weapon Desert Eagle| Task is DIFFUSE BOMB
Counter Terrorist with weapon Gut Knife| Task is DIFFUSE BOMB
Counter Terrorist with weapon Desert Eagle| Task is DIFFUSE BOMB
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgad3d8b6" class="outline-3">
<h3 id="orgad3d8b6"><span class="section-number-3">1.11</span> itearator&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-11">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orga7e4cc5" class="outline-4">
<h4 id="orga7e4cc5"><span class="section-number-4">1.11.1</span> code</h4>
<div class="outline-text-4" id="text-1-11-1">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Notification</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">To store notification message</span>
    <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">notification</span>;

    <span style="color: #4f97d7; font-weight: bold;">public</span> Notification<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">notification</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">this</span>.notification = notification;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> String getNotification<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> notification;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Collection interface</span>
<span style="color: #ce537a; font-weight: bold;">interface</span> <span style="color: #7590db;">Collection</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> Iterator createIterator<span style="color: #bc6ec5;">()</span>;
<span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Collection of notifications</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">NotificationCollection</span> <span style="color: #ce537a; font-weight: bold;">implements</span> <span style="color: #7590db;">Collection</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #4f97d7; font-weight: bold;">final</span> <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">MAX_ITEMS</span> = <span style="color: #a45bad;">6</span>;
    <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">numberOfItems</span> = <span style="color: #a45bad;">0</span>;
    Notification<span style="color: #bc6ec5;">[]</span> notificationList;

    <span style="color: #4f97d7; font-weight: bold;">public</span> NotificationCollection<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        notificationList = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Notification</span><span style="color: #2d9574;">[</span>MAX_ITEMS<span style="color: #2d9574;">]</span>;

        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Let us add some dummy notifications</span>
        addItem<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Notification 1"</span><span style="color: #2d9574;">)</span>;
        addItem<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Notification 2"</span><span style="color: #2d9574;">)</span>;
        addItem<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Notification 3"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> addItem<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">str</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #ce537a; font-weight: bold;">Notification</span> <span style="color: #7590db;">notification</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Notification</span><span style="color: #2d9574;">(</span>str<span style="color: #2d9574;">)</span>;
        <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #2d9574;">(</span>numberOfItems &gt;= MAX_ITEMS<span style="color: #2d9574;">)</span>
            System.err.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Full"</span><span style="color: #2d9574;">)</span>;
        <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #2d9574;">{</span>
            notificationList<span style="color: #67b11d;">[</span>numberOfItems<span style="color: #67b11d;">]</span> = notification;
            numberOfItems = numberOfItems + <span style="color: #a45bad;">1</span>;
        <span style="color: #2d9574;">}</span>
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #4f97d7; font-weight: bold;">public</span> Iterator createIterator<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">NotificationIterator</span><span style="color: #2d9574;">(</span>notificationList<span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">We could also use Java.Util.Iterator</span>
<span style="color: #ce537a; font-weight: bold;">interface</span> <span style="color: #7590db;">Iterator</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">indicates whether there are more elements to</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">iterate over</span>
    <span style="color: #ce537a; font-weight: bold;">boolean</span> <span style="color: #bc6ec5; font-weight: bold;">hasNext</span><span style="color: #bc6ec5;">()</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">returns the next element</span>
    <span style="color: #ce537a; font-weight: bold;">Object</span> <span style="color: #bc6ec5; font-weight: bold;">next</span><span style="color: #bc6ec5;">()</span>;
<span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Notification iterator</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">NotificationIterator</span> <span style="color: #ce537a; font-weight: bold;">implements</span> <span style="color: #7590db;">Iterator</span> <span style="color: #4f97d7;">{</span>
    Notification<span style="color: #bc6ec5;">[]</span> notificationList;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">maintains curr pos of iterator over the array</span>
    <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">pos</span> = <span style="color: #a45bad;">0</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Constructor takes the array of notifiactionList are</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">going to iterate over.</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span>  NotificationIterator <span style="color: #bc6ec5;">(</span>Notification<span style="color: #2d9574;">[]</span> notificationList<span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">this</span>.notificationList = notificationList;
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #4f97d7; font-weight: bold;">public</span> Object next<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">return next element in the array and increment pos</span>
        <span style="color: #ce537a; font-weight: bold;">Notification</span> <span style="color: #7590db;">notification</span> =  notificationList<span style="color: #2d9574;">[</span>pos<span style="color: #2d9574;">]</span>;
        pos += <span style="color: #a45bad;">1</span>;
        <span style="color: #4f97d7; font-weight: bold;">return</span> notification;
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #4f97d7; font-weight: bold;">public</span> boolean hasNext<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #2d9574;">(</span>pos &gt;= notificationList.length ||
            notificationList<span style="color: #67b11d;">[</span>pos<span style="color: #67b11d;">]</span> == null<span style="color: #2d9574;">)</span>
            <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">false</span>;
        <span style="color: #4f97d7; font-weight: bold;">else</span>
            <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">true</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Contains collection of notifications as an object of</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">NotificationCollection</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">NotificationBar</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #ce537a; font-weight: bold;">NotificationCollection</span> <span style="color: #7590db;">notifications</span>;

    <span style="color: #4f97d7; font-weight: bold;">public</span> NotificationBar<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">NotificationCollection</span> <span style="color: #7590db;">notifications</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">this</span>.notifications = notifications;
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> printNotifications<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #ce537a; font-weight: bold;">Iterator</span> <span style="color: #7590db;">iterator</span> = notifications.createIterator<span style="color: #2d9574;">()</span>;
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"-------NOTIFICATION BAR------------"</span><span style="color: #2d9574;">)</span>;
        <span style="color: #4f97d7; font-weight: bold;">while</span> <span style="color: #2d9574;">(</span>iterator.hasNext<span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
            <span style="color: #ce537a; font-weight: bold;">Notification</span> <span style="color: #7590db;">n</span> = <span style="color: #67b11d;">(</span><span style="color: #ce537a; font-weight: bold;">Notification</span><span style="color: #67b11d;">)</span>iterator.next<span style="color: #67b11d;">()</span>;
            System.out.println<span style="color: #67b11d;">(</span>n.getNotification<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;
        <span style="color: #2d9574;">}</span>
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Driver class</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Main</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> main<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">args</span><span style="color: #2d9574;">[]</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #ce537a; font-weight: bold;">NotificationCollection</span> <span style="color: #7590db;">nc</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">NotificationCollection</span><span style="color: #2d9574;">()</span>;
        <span style="color: #ce537a; font-weight: bold;">NotificationBar</span> <span style="color: #7590db;">nb</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">NotificationBar</span><span style="color: #2d9574;">(</span>nc<span style="color: #2d9574;">)</span>;
        nb.printNotifications<span style="color: #2d9574;">()</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #7590db;">Output</span>:

-------NOTIFICATION BAR------------
Notification <span style="color: #a45bad;">1</span>
Notification <span style="color: #a45bad;">2</span>
Notification <span style="color: #a45bad;">3</span>

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7f3c85b" class="outline-3">
<h3 id="org7f3c85b"><span class="section-number-3">1.12</span> object pool&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-12">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li><a href="https://en.wikipedia.org/wiki/Object_pool_pattern">https://en.wikipedia.org/wiki/Object_pool_pattern</a></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org00427f1" class="outline-4">
<h4 id="org00427f1"><span class="section-number-4">1.12.1</span> code</h4>
<div class="outline-text-4" id="text-1-12-1">
<pre class="example">

The object pool pattern is a software creational design pattern that uses a set
of initialized objects kept ready to use – a "pool" – rather than allocating and
destroying them on demand. A client of the pool will request an object from the
pool and perform operations on the returned object. When the client has
finished, it returns the object to the pool rather than destroying it; this can
be done manually or automatically.

Object pools are primarily used for performance: in some circumstances, object
pools significantly improve performance. Object pools complicate object
lifetime, as objects obtained from and returned to a pool are not actually
created or destroyed at this time, and thus require care in implementation.
</pre>
<div class="org-src-container">
<pre class="src src-cpp"> <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">ObjectPool Class</span>

<span style="color: #4f97d7; font-weight: bold;">public</span> abstract <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">ObjectPool</span><span style="color: #4f97d7;">&lt;</span>T<span style="color: #4f97d7;">&gt;</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">long</span> expirationTime;

  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">Hashtable</span><span style="color: #bc6ec5;">&lt;</span>T, Long<span style="color: #bc6ec5;">&gt;</span> locked, unlocked;

  <span style="color: #4f97d7; font-weight: bold;">public</span> ObjectPool<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    expirationTime = <span style="color: #a45bad;">30000</span>; <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">30 seconds</span>
    locked = <span style="color: #4f97d7; font-weight: bold;">new</span> Hashtable<span style="color: #2d9574;">&lt;</span>T, Long<span style="color: #2d9574;">&gt;()</span>;
    unlocked = <span style="color: #4f97d7; font-weight: bold;">new</span> Hashtable<span style="color: #2d9574;">&lt;</span>T, Long<span style="color: #2d9574;">&gt;()</span>;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">protected</span> abstract T create<span style="color: #bc6ec5;">()</span>;

  <span style="color: #4f97d7; font-weight: bold;">public</span> abstract boolean validate<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">T</span> <span style="color: #7590db;">o</span><span style="color: #bc6ec5;">)</span>;

  <span style="color: #4f97d7; font-weight: bold;">public</span> abstract <span style="color: #ce537a; font-weight: bold;">void</span> expire<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">T</span> <span style="color: #7590db;">o</span><span style="color: #bc6ec5;">)</span>;

  <span style="color: #4f97d7; font-weight: bold;">public</span> synchronized T checkOut<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #ce537a; font-weight: bold;">long</span> <span style="color: #7590db;">now</span> = System.currentTimeMillis<span style="color: #2d9574;">()</span>;
    <span style="color: #ce537a; font-weight: bold;">T</span> <span style="color: #7590db;">t</span>;
    <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #2d9574;">(</span>unlocked.size<span style="color: #67b11d;">()</span> &gt; <span style="color: #a45bad;">0</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
      <span style="color: #ce537a; font-weight: bold;">Enumeration</span><span style="color: #67b11d;">&lt;</span><span style="color: #ce537a; font-weight: bold;">T</span><span style="color: #67b11d;">&gt;</span> <span style="color: #7590db;">e</span> = unlocked.keys<span style="color: #67b11d;">()</span>;
      <span style="color: #4f97d7; font-weight: bold;">while</span> <span style="color: #67b11d;">(</span>e.hasMoreElements<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span> <span style="color: #67b11d;">{</span>
        t = e.nextElement<span style="color: #b1951d;">()</span>;
        <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #b1951d;">(</span><span style="color: #4f97d7;">(</span>now - unlocked.get<span style="color: #bc6ec5;">(</span>t<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span> &gt; expirationTime<span style="color: #b1951d;">)</span> <span style="color: #b1951d;">{</span>
          <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">object has expired</span>
          unlocked.remove<span style="color: #4f97d7;">(</span>t<span style="color: #4f97d7;">)</span>;
          expire<span style="color: #4f97d7;">(</span>t<span style="color: #4f97d7;">)</span>;
          t = null;
        <span style="color: #b1951d;">}</span> <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #b1951d;">{</span>
          <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #4f97d7;">(</span>validate<span style="color: #bc6ec5;">(</span>t<span style="color: #bc6ec5;">)</span><span style="color: #4f97d7;">)</span> <span style="color: #4f97d7;">{</span>
            unlocked.remove<span style="color: #bc6ec5;">(</span>t<span style="color: #bc6ec5;">)</span>;
            locked.put<span style="color: #bc6ec5;">(</span>t, now<span style="color: #bc6ec5;">)</span>;
            <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #bc6ec5;">(</span>t<span style="color: #bc6ec5;">)</span>;
          <span style="color: #4f97d7;">}</span> <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #4f97d7;">{</span>
            <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">object failed validation</span>
            unlocked.remove<span style="color: #bc6ec5;">(</span>t<span style="color: #bc6ec5;">)</span>;
            expire<span style="color: #bc6ec5;">(</span>t<span style="color: #bc6ec5;">)</span>;
            t = null;
          <span style="color: #4f97d7;">}</span>
        <span style="color: #b1951d;">}</span>
      <span style="color: #67b11d;">}</span>
    <span style="color: #2d9574;">}</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">no objects available, create a new one</span>
    t = create<span style="color: #2d9574;">()</span>;
    locked.put<span style="color: #2d9574;">(</span>t, now<span style="color: #2d9574;">)</span>;
    <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">(</span>t<span style="color: #2d9574;">)</span>;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">public</span> synchronized <span style="color: #ce537a; font-weight: bold;">void</span> checkIn<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">T</span> <span style="color: #7590db;">t</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    locked.remove<span style="color: #2d9574;">(</span>t<span style="color: #2d9574;">)</span>;
    unlocked.put<span style="color: #2d9574;">(</span>t, System.currentTimeMillis<span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">The three remaining methods are abstract </span>
<span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">and therefore must be implemented by the subclass</span>

<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">JDBCConnectionPool</span> extends <span style="color: #ce537a; font-weight: bold;">ObjectPool</span><span style="color: #4f97d7;">&lt;</span>Connection<span style="color: #4f97d7;">&gt;</span> <span style="color: #4f97d7;">{</span>

  <span style="color: #4f97d7; font-weight: bold;">private</span> String dsn, usr, pwd;

  <span style="color: #4f97d7; font-weight: bold;">public</span> JDBCConnectionPool<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">driver</span>, <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">dsn</span>, <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">usr</span>, <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">pwd</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    super<span style="color: #2d9574;">()</span>;
    <span style="color: #4f97d7; font-weight: bold;">try</span> <span style="color: #2d9574;">{</span>
      Class.forName<span style="color: #67b11d;">(</span>driver<span style="color: #67b11d;">)</span>.newInstance<span style="color: #67b11d;">()</span>;
    <span style="color: #2d9574;">}</span> <span style="color: #4f97d7; font-weight: bold;">catch</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">Exception</span> <span style="color: #7590db;">e</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
      e.printStackTrace<span style="color: #67b11d;">()</span>;
    <span style="color: #2d9574;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">this</span>.dsn = dsn;
    <span style="color: #4f97d7; font-weight: bold;">this</span>.usr = usr;
    <span style="color: #4f97d7; font-weight: bold;">this</span>.pwd = pwd;
  <span style="color: #bc6ec5;">}</span>

  @Override
  <span style="color: #4f97d7; font-weight: bold;">protected</span> Connection create<span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">try</span> <span style="color: #2d9574;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #67b11d;">(</span>DriverManager.getConnection<span style="color: #b1951d;">(</span>dsn, usr, pwd<span style="color: #b1951d;">)</span><span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span> <span style="color: #4f97d7; font-weight: bold;">catch</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">SQLException</span> <span style="color: #7590db;">e</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
      e.printStackTrace<span style="color: #67b11d;">()</span>;
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #67b11d;">(</span>null<span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
  <span style="color: #bc6ec5;">}</span>

  @Override
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> expire<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Connection</span> <span style="color: #7590db;">o</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">try</span> <span style="color: #2d9574;">{</span>
      <span style="color: #67b11d;">(</span><span style="color: #b1951d;">(</span><span style="color: #ce537a; font-weight: bold;">Connection</span><span style="color: #b1951d;">)</span> o<span style="color: #67b11d;">)</span>.close<span style="color: #67b11d;">()</span>;
    <span style="color: #2d9574;">}</span> <span style="color: #4f97d7; font-weight: bold;">catch</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">SQLException</span> <span style="color: #7590db;">e</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
      e.printStackTrace<span style="color: #67b11d;">()</span>;
    <span style="color: #2d9574;">}</span>
  <span style="color: #bc6ec5;">}</span>

  @Override
  <span style="color: #4f97d7; font-weight: bold;">public</span> boolean validate<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Connection</span> <span style="color: #7590db;">o</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">try</span> <span style="color: #2d9574;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #67b11d;">(</span><span style="color: #a45bad;">!</span><span style="color: #b1951d;">(</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">Connection</span><span style="color: #4f97d7;">)</span> o<span style="color: #b1951d;">)</span>.isClosed<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span> <span style="color: #4f97d7; font-weight: bold;">catch</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">SQLException</span> <span style="color: #7590db;">e</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
      e.printStackTrace<span style="color: #67b11d;">()</span>;
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #67b11d;">(</span><span style="color: #a45bad;">false</span><span style="color: #67b11d;">)</span>;
    <span style="color: #2d9574;">}</span>
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

JDBCConnectionPool will allow the application <span style="color: #ce537a; font-weight: bold;">to</span> <span style="color: #7590db;">borrow</span> <span style="color: #4f97d7; font-weight: bold;">and</span> <span style="color: #4f97d7; font-weight: bold;">return</span> database connections:


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Main</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> main<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">args</span><span style="color: #2d9574;">[]</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Do something...</span>
    ...

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Create the ConnectionPool:</span>
    JDBCConnectionPool pool = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">JDBCConnectionPool</span><span style="color: #2d9574;">(</span>
      <span style="color: #2d9574;">"org.hsqldb.jdbcDriver"</span>, <span style="color: #2d9574;">"jdbc:hsqldb://localhost/mydb"</span>,
      <span style="color: #2d9574;">"sa"</span>, <span style="color: #2d9574;">"secret"</span><span style="color: #2d9574;">)</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Get a connection:</span>
    <span style="color: #ce537a; font-weight: bold;">Connection</span> <span style="color: #7590db;">con</span> = pool.checkOut<span style="color: #2d9574;">()</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Use the connection</span>
    ...

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Return the connection:</span>
    pool.checkIn<span style="color: #2d9574;">(</span>con<span style="color: #2d9574;">)</span>;

  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

</pre>
</div>
<div class="org-src-container">
<pre class="src src-java"><span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">temp1</span>;
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">temp2</span>;
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">temp3</span>;

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">getTemp1</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">return</span> temp1;
  <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setTemp1</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">temp1</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">this</span>.temp1 = temp1;
  <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">getTemp2</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">return</span> temp2;
  <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setTemp2</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">temp2</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">this</span>.temp2 = temp2;
  <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">getTemp3</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">return</span> temp3;
  <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">setTemp3</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">temp3</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">this</span>.temp3 = temp3;
  <span style="color: #bc6ec5;">}</span>



<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">PooledObjectPool</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">long</span> <span style="color: #7590db;">expTime</span> = <span style="color: #a45bad;">60000</span>;<span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">6 seconds</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">HashMap</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">PooledObject</span>, <span style="color: #ce537a; font-weight: bold;">Long</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">available</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">HashMap</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">PooledObject</span>, <span style="color: #ce537a; font-weight: bold;">Long</span><span style="color: #bc6ec5;">&gt;()</span>;
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">HashMap</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">PooledObject</span>, <span style="color: #ce537a; font-weight: bold;">Long</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">inUse</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">HashMap</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">PooledObject</span>, <span style="color: #ce537a; font-weight: bold;">Long</span><span style="color: #bc6ec5;">&gt;()</span>;


  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">synchronized</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #bc6ec5; font-weight: bold;">getObject</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #ce537a; font-weight: bold;">long</span> <span style="color: #7590db;">now</span> = System.currentTimeMillis<span style="color: #2d9574;">()</span>;
    <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #2d9574;">(</span><span style="color: #a45bad;">!</span>available.isEmpty<span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">for</span> <span style="color: #67b11d;">(</span><span style="color: #a45bad;">Map</span>.<span style="color: #ce537a; font-weight: bold;">Entry</span><span style="color: #b1951d;">&lt;</span><span style="color: #ce537a; font-weight: bold;">PooledObject</span>, <span style="color: #ce537a; font-weight: bold;">Long</span><span style="color: #b1951d;">&gt;</span> entry : available.entrySet<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span> <span style="color: #67b11d;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #b1951d;">(</span>now - entry.getValue<span style="color: #4f97d7;">()</span> &gt; expTime<span style="color: #b1951d;">)</span> <span style="color: #b1951d;">{</span> <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">object has expired</span>
          popElement<span style="color: #4f97d7;">(</span>available<span style="color: #4f97d7;">)</span>;
        <span style="color: #b1951d;">}</span> <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #b1951d;">{</span>
          <span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #7590db;">po</span> = popElement<span style="color: #4f97d7;">(</span>available, entry.getKey<span style="color: #bc6ec5;">()</span><span style="color: #4f97d7;">)</span>;
          push<span style="color: #4f97d7;">(</span>inUse, po, now<span style="color: #4f97d7;">)</span>;
          <span style="color: #4f97d7; font-weight: bold;">return</span> po;
        <span style="color: #b1951d;">}</span>
      <span style="color: #67b11d;">}</span>
    <span style="color: #2d9574;">}</span>

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">either no PooledObject is available or each has expired, so return a new one</span>
    <span style="color: #4f97d7; font-weight: bold;">return</span> createPooledObject<span style="color: #2d9574;">(</span>now<span style="color: #2d9574;">)</span>;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">synchronized</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #bc6ec5; font-weight: bold;">createPooledObject</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">long</span> <span style="color: #7590db;">now</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    <span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #7590db;">po</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">PooledObject</span><span style="color: #2d9574;">()</span>;
    push<span style="color: #2d9574;">(</span>inUse, po, now<span style="color: #2d9574;">)</span>;
    <span style="color: #4f97d7; font-weight: bold;">return</span> po;
        <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">synchronized</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">push</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">HashMap</span><span style="color: #2d9574;">&lt;</span><span style="color: #ce537a; font-weight: bold;">PooledObject</span>, <span style="color: #ce537a; font-weight: bold;">Long</span><span style="color: #2d9574;">&gt;</span> <span style="color: #7590db;">map</span>,
      <span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #7590db;">po</span>, <span style="color: #ce537a; font-weight: bold;">long</span> <span style="color: #7590db;">now</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    map.put<span style="color: #2d9574;">(</span>po, now<span style="color: #2d9574;">)</span>;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">releaseObject</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #7590db;">po</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    cleanUp<span style="color: #2d9574;">(</span>po<span style="color: #2d9574;">)</span>;
    available.put<span style="color: #2d9574;">(</span>po, System.currentTimeMillis<span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
    inUse.remove<span style="color: #2d9574;">(</span>po<span style="color: #2d9574;">)</span>;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #bc6ec5; font-weight: bold;">popElement</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">HashMap</span><span style="color: #2d9574;">&lt;</span><span style="color: #ce537a; font-weight: bold;">PooledObject</span>, <span style="color: #ce537a; font-weight: bold;">Long</span><span style="color: #2d9574;">&gt;</span> <span style="color: #7590db;">map</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
     <span style="color: #a45bad;">Map</span>.<span style="color: #ce537a; font-weight: bold;">Entry</span><span style="color: #2d9574;">&lt;</span><span style="color: #ce537a; font-weight: bold;">PooledObject</span>, <span style="color: #ce537a; font-weight: bold;">Long</span><span style="color: #2d9574;">&gt;</span> <span style="color: #7590db;">entry</span> = map.entrySet<span style="color: #2d9574;">()</span>.iterator<span style="color: #2d9574;">()</span>.next<span style="color: #2d9574;">()</span>;
     <span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #7590db;">key</span>= entry.getKey<span style="color: #2d9574;">()</span>;
     <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">Long value=entry.getValue();</span>
     map.remove<span style="color: #2d9574;">(</span>entry.getKey<span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
     <span style="color: #4f97d7; font-weight: bold;">return</span> key;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #bc6ec5; font-weight: bold;">popElement</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">HashMap</span><span style="color: #2d9574;">&lt;</span><span style="color: #ce537a; font-weight: bold;">PooledObject</span>, <span style="color: #ce537a; font-weight: bold;">Long</span><span style="color: #2d9574;">&gt;</span> <span style="color: #7590db;">map</span>, <span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #7590db;">key</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    map.remove<span style="color: #2d9574;">(</span>key<span style="color: #2d9574;">)</span>;
    <span style="color: #4f97d7; font-weight: bold;">return</span> key;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">cleanUp</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">PooledObject</span> <span style="color: #7590db;">po</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
    po.setTemp1<span style="color: #2d9574;">(</span><span style="color: #a45bad;">null</span><span style="color: #2d9574;">)</span>;
    po.setTemp2<span style="color: #2d9574;">(</span><span style="color: #a45bad;">null</span><span style="color: #2d9574;">)</span>;
    po.setTemp3<span style="color: #2d9574;">(</span><span style="color: #a45bad;">null</span><span style="color: #2d9574;">)</span>;
  <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orge19ae07" class="outline-3">
<h3 id="orge19ae07"><span class="section-number-3">1.13</span> polymorphism&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-13">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org8a46a11" class="outline-4">
<h4 id="org8a46a11"><span class="section-number-4">1.13.1</span> code</h4>
<div class="outline-text-4" id="text-1-13-1">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #bc6ec5;">#include</span> <span style="color: #4f97d7;">&lt;</span><span style="color: #2d9574;">iostream</span><span style="color: #4f97d7;">&gt;</span>
<span style="color: #bc6ec5;">#include</span> <span style="color: #4f97d7;">&lt;</span><span style="color: #2d9574;">chrono</span><span style="color: #4f97d7;">&gt;</span>
<span style="color: #4f97d7; font-weight: bold;">using</span> <span style="color: #4f97d7; font-weight: bold;">namespace</span> <span style="color: #a45bad;">std</span>;

<span style="color: #4f97d7; font-weight: bold;">typedef</span> <span style="color: #a45bad;">std</span>::<span style="color: #a45bad;">chrono</span>::<span style="color: #ce537a; font-weight: bold;">high_resolution_clock</span> <span style="color: #ce537a; font-weight: bold;">Clock</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">To store dimensions of an image</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Dimension</span> <span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #bc6ec5; font-weight: bold;">Dimension</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">X</span>, <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">Y</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>mX = X;  mY = Y; <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7; font-weight: bold;">private</span>:
    <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">mX</span>, <span style="color: #7590db;">mY</span>;
<span style="color: #4f97d7;">}</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Base class for all image types</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Image</span> <span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #4f97d7; font-weight: bold;">virtual</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">Draw</span><span style="color: #bc6ec5;">()</span> = <span style="color: #a45bad;">0</span>;
    <span style="color: #4f97d7; font-weight: bold;">virtual</span> <span style="color: #ce537a; font-weight: bold;">Dimension</span> <span style="color: #bc6ec5; font-weight: bold;">GetDimensionInPixels</span><span style="color: #bc6ec5;">()</span> = <span style="color: #a45bad;">0</span>;
<span style="color: #4f97d7; font-weight: bold;">protected</span>:
    <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">dimensionX</span>;
    <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">dimensionY</span>;
<span style="color: #4f97d7;">}</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">For Tiff Images</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">TiffImage</span> : <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Image</span>
<span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">Draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span> <span style="color: #bc6ec5;">}</span>
    <span style="color: #ce537a; font-weight: bold;">Dimension</span> <span style="color: #bc6ec5; font-weight: bold;">GetDimensionInPixels</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> Dimension<span style="color: #2d9574;">(</span>dimensionX, dimensionY<span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">There can be more derived classes like PngImage,</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">BitmapImage, etc</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Driver code that calls virtual function</span>
<span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #4f97d7;">()</span>
<span style="color: #4f97d7;">{</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">An image type</span>
    <span style="color: #ce537a; font-weight: bold;">Image</span>* <span style="color: #7590db;">pImage</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">TiffImage</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Store time before virtual function calls</span>
    <span style="color: #4f97d7; font-weight: bold;">auto</span> <span style="color: #7590db;">then</span> = <span style="color: #a45bad;">Clock</span>::now<span style="color: #bc6ec5;">()</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Call Draw 1000 times to make sure performance</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">is visible</span>
    <span style="color: #4f97d7; font-weight: bold;">for</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">i</span> = <span style="color: #a45bad;">0</span>; i &lt; <span style="color: #a45bad;">1000</span>; ++i<span style="color: #bc6ec5;">)</span>
        pImage-&gt;Draw<span style="color: #bc6ec5;">()</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Store time after virtual function calls</span>
    <span style="color: #4f97d7; font-weight: bold;">auto</span> <span style="color: #7590db;">now</span> = <span style="color: #a45bad;">Clock</span>::now<span style="color: #bc6ec5;">()</span>;

    cout &lt;&lt; <span style="color: #2d9574;">"Time taken: "</span>
         &lt;&lt; <span style="color: #a45bad;">std</span>::<span style="color: #a45bad;">chrono</span>::duration_cast
           <span style="color: #bc6ec5;">&lt;</span><span style="color: #a45bad;">std</span>::<span style="color: #a45bad;">chrono</span>::nanoseconds<span style="color: #bc6ec5;">&gt;(</span>now - then<span style="color: #bc6ec5;">)</span>.count<span style="color: #bc6ec5;">()</span>
         &lt;&lt; <span style="color: #2d9574;">" nanoseconds"</span> &lt;&lt; endl;

    <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">0</span>;
<span style="color: #4f97d7;">}</span>


Output :
Time taken: <span style="color: #a45bad;">2613</span> nanoseconds
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1f4d246" class="outline-3">
<h3 id="org1f4d246"><span class="section-number-3">1.14</span> prototype&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-14">
<ul class="org-ul">
<li>note :</li>
</ul>
</div>
<div id="outline-container-org528d3ef" class="outline-4">
<h4 id="org528d3ef"><span class="section-number-4">1.14.1</span> java</h4>
<div class="outline-text-4" id="text-1-14-1">
<div class="org-src-container">
<pre class="src src-java"><span style="color: #2aa1ae;">/** Prototype Class **/</span>
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Cookie</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Cloneable</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Object</span> <span style="color: #bc6ec5; font-weight: bold;">clone</span><span style="color: #bc6ec5;">()</span> <span style="color: #4f97d7; font-weight: bold;">throws</span> <span style="color: #ce537a; font-weight: bold;">CloneNotSupportedException</span>
   <span style="color: #bc6ec5;">{</span>
       <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">In an actual implementation of this pattern you would now attach references to</span>
       <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">the expensive to produce parts from the copies that are held inside the prototype.</span>
       <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">(</span>Cookie<span style="color: #2d9574;">)</span> <span style="color: #4f97d7; font-weight: bold;">super</span>.clone<span style="color: #2d9574;">()</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae;">/** Concrete Prototypes to clone **/</span>
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">CoconutCookie</span> <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">Cookie</span> <span style="color: #4f97d7;">{</span> <span style="color: #4f97d7;">}</span>

<span style="color: #2aa1ae;">/** Client Class**/</span>
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">CookieMachine</span>
<span style="color: #4f97d7;">{</span>

  <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">Cookie</span> <span style="color: #7590db;">cookie</span>;<span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">cookie&#24517;&#39035;&#26159;&#21487;&#22797;&#21046;&#30340;</span>

    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">CookieMachine</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Cookie</span> <span style="color: #7590db;">cookie</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span> 
        <span style="color: #4f97d7; font-weight: bold;">this</span>.cookie = cookie; 
    <span style="color: #bc6ec5;">}</span> 

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Cookie</span> <span style="color: #bc6ec5; font-weight: bold;">makeCookie</span><span style="color: #bc6ec5;">()</span>
   <span style="color: #bc6ec5;">{</span>
       <span style="color: #4f97d7; font-weight: bold;">try</span>
       <span style="color: #2d9574;">{</span>
           <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #67b11d;">(</span><span style="color: #ce537a; font-weight: bold;">Cookie</span><span style="color: #67b11d;">)</span> cookie.clone<span style="color: #67b11d;">()</span>;
       <span style="color: #2d9574;">}</span> <span style="color: #4f97d7; font-weight: bold;">catch</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">CloneNotSupportedException</span> <span style="color: #7590db;">e</span><span style="color: #2d9574;">)</span>
       <span style="color: #2d9574;">{</span>
           e.printStackTrace<span style="color: #67b11d;">()</span>;
       <span style="color: #2d9574;">}</span>
       <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">null</span>;
   <span style="color: #bc6ec5;">}</span> 


    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">args</span><span style="color: #2d9574;">[]</span><span style="color: #bc6ec5;">){</span> 
        <span style="color: #ce537a; font-weight: bold;">Cookie</span> <span style="color: #7590db;">tempCookie</span> =  <span style="color: #a45bad;">null</span>; 
        <span style="color: #ce537a; font-weight: bold;">Cookie</span> <span style="color: #7590db;">prot</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">CoconutCookie</span><span style="color: #2d9574;">()</span>; 
        <span style="color: #ce537a; font-weight: bold;">CookieMachine</span> <span style="color: #7590db;">cm</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">CookieMachine</span><span style="color: #2d9574;">(</span>prot<span style="color: #2d9574;">)</span>; <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">&#35774;&#32622;&#21407;&#22411;</span>
        <span style="color: #4f97d7; font-weight: bold;">for</span><span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">i</span>=<span style="color: #a45bad;">0</span>; i&lt;<span style="color: #a45bad;">100</span>; i++<span style="color: #2d9574;">)</span> 
            tempCookie = cm.makeCookie<span style="color: #2d9574;">()</span>;<span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">&#36890;&#36807;&#22797;&#21046;&#21407;&#22411;&#36820;&#22238;&#22810;&#20010;cookie </span>
    <span style="color: #bc6ec5;">}</span> 
<span style="color: #4f97d7;">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org1cb4fc8" class="outline-4">
<h4 id="org1cb4fc8"><span class="section-number-4">1.14.2</span> code</h4>
<div class="outline-text-4" id="text-1-14-2">
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #bc6ec5;">#include</span> <span style="color: #4f97d7;">&lt;</span><span style="color: #2d9574;">iostream</span><span style="color: #4f97d7;">&gt;</span>

<span style="color: #4f97d7; font-weight: bold;">enum</span> <span style="color: #ce537a; font-weight: bold;">imageType</span>
<span style="color: #4f97d7;">{</span>
  <span style="color: #7590db;">LSAT</span>, <span style="color: #7590db;">SPOT</span>
<span style="color: #4f97d7;">}</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Image</span>
<span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #4f97d7; font-weight: bold;">virtual</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> = <span style="color: #a45bad;">0</span>;
    <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">Image</span> *<span style="color: #bc6ec5; font-weight: bold;">findAndClone</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">imageType</span><span style="color: #bc6ec5;">)</span>;
  <span style="color: #4f97d7; font-weight: bold;">protected</span>:
    <span style="color: #4f97d7; font-weight: bold;">virtual</span> <span style="color: #ce537a; font-weight: bold;">imageType</span> <span style="color: #bc6ec5; font-weight: bold;">returnType</span><span style="color: #bc6ec5;">()</span> = <span style="color: #a45bad;">0</span>;
    <span style="color: #4f97d7; font-weight: bold;">virtual</span> <span style="color: #ce537a; font-weight: bold;">Image</span> *<span style="color: #bc6ec5; font-weight: bold;">clone</span><span style="color: #bc6ec5;">()</span> = <span style="color: #a45bad;">0</span>;
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">As each subclass of Image is declared, it registers its prototype</span>
    <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">addPrototype</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Image</span> *<span style="color: #7590db;">image</span><span style="color: #bc6ec5;">)</span>
    <span style="color: #bc6ec5;">{</span>
        _prototypes<span style="color: #2d9574;">[</span>_nextSlot++<span style="color: #2d9574;">]</span> = image;
    <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">private</span>:
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">addPrototype() saves each registered prototype here</span>
    <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">Image</span> *<span style="color: #7590db;">_prototypes</span><span style="color: #bc6ec5;">[</span><span style="color: #a45bad;">10</span><span style="color: #bc6ec5;">]</span>;
    <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">_nextSlot</span>;
<span style="color: #4f97d7;">}</span>;

<span style="color: #ce537a; font-weight: bold;">Image</span> *<span style="color: #a45bad;">Image</span>::<span style="color: #7590db;">_prototypes</span><span style="color: #4f97d7;">[]</span>;
<span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #a45bad;">Image</span>::<span style="color: #7590db;">_nextSlot</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Client calls this public static member function when it needs an instance</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">of an Image subclass</span>
<span style="color: #ce537a; font-weight: bold;">Image</span> *<span style="color: #a45bad;">Image</span>::<span style="color: #bc6ec5; font-weight: bold;">findAndClone</span><span style="color: #4f97d7;">(</span><span style="color: #ce537a; font-weight: bold;">imageType</span> <span style="color: #7590db;">type</span><span style="color: #4f97d7;">)</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">for</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">i</span> = <span style="color: #a45bad;">0</span>; i &lt; _nextSlot; i++<span style="color: #bc6ec5;">)</span>
    <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #bc6ec5;">(</span>_prototypes<span style="color: #2d9574;">[</span>i<span style="color: #2d9574;">]</span>-&gt;returnType<span style="color: #2d9574;">()</span> == type<span style="color: #bc6ec5;">)</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> _prototypes<span style="color: #bc6ec5;">[</span>i<span style="color: #bc6ec5;">]</span>-&gt;clone<span style="color: #bc6ec5;">()</span>;
  <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">NULL</span>;
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">LandSatImage</span>: <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Image</span> <span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #ce537a; font-weight: bold;">imageType</span> <span style="color: #bc6ec5; font-weight: bold;">returnType</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> LSAT;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #a45bad;">std</span>::cout &lt;&lt; <span style="color: #2d9574;">"LandSatImage::draw "</span> &lt;&lt; _id &lt;&lt; <span style="color: #a45bad;">std</span>::endl;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">When clone() is called, call the one-argument ctor with a dummy arg</span>
    <span style="color: #ce537a; font-weight: bold;">Image</span> *<span style="color: #bc6ec5; font-weight: bold;">clone</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">LandSatImage</span><span style="color: #2d9574;">(</span><span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">protected</span>:
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">This is only called from clone()</span>
    <span style="color: #bc6ec5; font-weight: bold;">LandSatImage</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">dummy</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        _id = _count++;
    <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">private</span>:
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Mechanism for initializing an Image subclass - this causes the</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">default ctor to be called, which registers the subclass's prototype</span>
    <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">LandSatImage</span> <span style="color: #7590db;">_landSatImage</span>;
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">This is only called when the private static data member is initiated</span>
    <span style="color: #bc6ec5; font-weight: bold;">LandSatImage</span><span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        addPrototype<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">this</span><span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Nominal "state" per instance mechanism</span>
    <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">_id</span>;
    <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">_count</span>;
<span style="color: #4f97d7;">}</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Register the subclass's prototype</span>
<span style="color: #ce537a; font-weight: bold;">LandSatImage</span> <span style="color: #a45bad;">LandSatImage</span>::<span style="color: #7590db;">_landSatImage</span>;
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Initialize the "state" per instance mechanism</span>
<span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #a45bad;">LandSatImage</span>::<span style="color: #7590db;">_count</span> = <span style="color: #a45bad;">1</span>;

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">SpotImage</span>: <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Image</span>
<span style="color: #4f97d7;">{</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #ce537a; font-weight: bold;">imageType</span> <span style="color: #bc6ec5; font-weight: bold;">returnType</span><span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> SPOT;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        <span style="color: #a45bad;">std</span>::cout &lt;&lt; <span style="color: #2d9574;">"SpotImage::draw "</span> &lt;&lt; _id &lt;&lt; <span style="color: #a45bad;">std</span>::endl;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #ce537a; font-weight: bold;">Image</span> *<span style="color: #bc6ec5; font-weight: bold;">clone</span><span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">SpotImage</span><span style="color: #2d9574;">(</span><span style="color: #a45bad;">1</span><span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">protected</span>:
    <span style="color: #bc6ec5; font-weight: bold;">SpotImage</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">dummy</span><span style="color: #bc6ec5;">)</span>
    <span style="color: #bc6ec5;">{</span>
        _id = _count++;
    <span style="color: #bc6ec5;">}</span>
  <span style="color: #4f97d7; font-weight: bold;">private</span>:
    <span style="color: #bc6ec5; font-weight: bold;">SpotImage</span><span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        addPrototype<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">this</span><span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
    <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">SpotImage</span> <span style="color: #7590db;">_spotImage</span>;
    <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">_id</span>;
    <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">_count</span>;
<span style="color: #4f97d7;">}</span>;

<span style="color: #ce537a; font-weight: bold;">SpotImage</span> <span style="color: #a45bad;">SpotImage</span>::<span style="color: #7590db;">_spotImage</span>;
<span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #a45bad;">SpotImage</span>::<span style="color: #7590db;">_count</span> = <span style="color: #a45bad;">1</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Simulated stream of creation requests</span>
<span style="color: #4f97d7; font-weight: bold;">const</span> <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">NUM_IMAGES</span> = <span style="color: #a45bad;">8</span>;
<span style="color: #ce537a; font-weight: bold;">imageType</span> <span style="color: #7590db;">input</span><span style="color: #4f97d7;">[</span>NUM_IMAGES<span style="color: #4f97d7;">]</span> =
<span style="color: #4f97d7;">{</span>
  LSAT, LSAT, LSAT, SPOT, LSAT, SPOT, SPOT, LSAT
<span style="color: #4f97d7;">}</span>;

<span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #4f97d7;">()</span>
<span style="color: #4f97d7;">{</span>
  <span style="color: #ce537a; font-weight: bold;">Image</span> *<span style="color: #7590db;">images</span><span style="color: #bc6ec5;">[</span>NUM_IMAGES<span style="color: #bc6ec5;">]</span>;

  <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Given an image type, find the right prototype, and return a clone</span>
  <span style="color: #4f97d7; font-weight: bold;">for</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">i</span> = <span style="color: #a45bad;">0</span>; i &lt; NUM_IMAGES; i++<span style="color: #bc6ec5;">)</span>
    images<span style="color: #bc6ec5;">[</span>i<span style="color: #bc6ec5;">]</span> = <span style="color: #a45bad;">Image</span>::findAndClone<span style="color: #bc6ec5;">(</span>input<span style="color: #2d9574;">[</span>i<span style="color: #2d9574;">]</span><span style="color: #bc6ec5;">)</span>;

  <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Demonstrate that correct image objects have been cloned</span>
  <span style="color: #4f97d7; font-weight: bold;">for</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">i</span> = <span style="color: #a45bad;">0</span>; i &lt; NUM_IMAGES; i++<span style="color: #bc6ec5;">)</span>
    images<span style="color: #bc6ec5;">[</span>i<span style="color: #bc6ec5;">]</span>-&gt;draw<span style="color: #bc6ec5;">()</span>;

  <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Free the dynamic memory</span>
  <span style="color: #4f97d7; font-weight: bold;">for</span> <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">i</span> = <span style="color: #a45bad;">0</span>; i &lt; NUM_IMAGES; i++<span style="color: #bc6ec5;">)</span>
    <span style="color: #4f97d7; font-weight: bold;">delete</span> images<span style="color: #bc6ec5;">[</span>i<span style="color: #bc6ec5;">]</span>;
<span style="color: #4f97d7;">}</span>


<span style="color: #ce537a; font-weight: bold;">Output</span>


<span style="color: #a45bad;">LandSatImage</span>::<span style="color: #7590db;">draw</span> <span style="color: #a45bad;">1</span>
<span style="color: #a45bad;">LandSatImage</span>::draw <span style="color: #a45bad;">2</span>
<span style="color: #a45bad;">LandSatImage</span>::draw <span style="color: #a45bad;">3</span>
<span style="color: #a45bad;">SpotImage</span>::draw <span style="color: #a45bad;">1</span>
<span style="color: #a45bad;">LandSatImage</span>::draw <span style="color: #a45bad;">4</span>
<span style="color: #a45bad;">SpotImage</span>::draw <span style="color: #a45bad;">2</span>
<span style="color: #a45bad;">SpotImage</span>::draw <span style="color: #a45bad;">3</span>
<span style="color: #a45bad;">LandSatImage</span>::draw <span style="color: #a45bad;">5</span>

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org987cec2" class="outline-3">
<h3 id="org987cec2"><span class="section-number-3">1.15</span> prototype in java&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-15">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org22e19c8" class="outline-4">
<h4 id="org22e19c8"><span class="section-number-4">1.15.1</span> code</h4>
<div class="outline-text-4" id="text-1-15-1">
<div class="org-src-container">
<pre class="src src-cpp"> <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">A Java program to demonstrate working of</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Prototype Design Pattern with example</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">of a ColorStore class to store existing objects.</span>

<span style="color: #ce537a; font-weight: bold;">import</span> <span style="color: #7590db;">java</span>.util.HashMap;
<span style="color: #ce537a; font-weight: bold;">import</span> <span style="color: #7590db;">java</span>.util.Map;


abstract <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Color</span> <span style="color: #ce537a; font-weight: bold;">implements</span> <span style="color: #7590db;">Cloneable</span>
<span style="color: #4f97d7;">{</span>

    <span style="color: #4f97d7; font-weight: bold;">protected</span> String colorName;

    abstract <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">addColor</span><span style="color: #bc6ec5;">()</span>;

    <span style="color: #4f97d7; font-weight: bold;">public</span> Object clone<span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        <span style="color: #ce537a; font-weight: bold;">Object</span> <span style="color: #7590db;">clone</span> = null;
        <span style="color: #4f97d7; font-weight: bold;">try</span>
        <span style="color: #2d9574;">{</span>
            clone = super.clone<span style="color: #67b11d;">()</span>;
        <span style="color: #2d9574;">}</span>
        <span style="color: #4f97d7; font-weight: bold;">catch</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">CloneNotSupportedException</span> <span style="color: #7590db;">e</span><span style="color: #2d9574;">)</span>
        <span style="color: #2d9574;">{</span>
            e.printStackTrace<span style="color: #67b11d;">()</span>;
        <span style="color: #2d9574;">}</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> clone;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">blueColor</span> <span style="color: #ce537a; font-weight: bold;">extends</span> <span style="color: #7590db;">Color</span>
<span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> blueColor<span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">this</span>.colorName = <span style="color: #2d9574;">"blue"</span>;
    <span style="color: #bc6ec5;">}</span>

    @Override
    <span style="color: #ce537a; font-weight: bold;">void</span> addColor<span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Blue color added"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>

<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">blackColor</span> <span style="color: #ce537a; font-weight: bold;">extends</span> <span style="color: #7590db;">Color</span><span style="color: #4f97d7;">{</span>

    <span style="color: #4f97d7; font-weight: bold;">public</span> blackColor<span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">this</span>.colorName = <span style="color: #2d9574;">"black"</span>;
    <span style="color: #bc6ec5;">}</span>

    @Override
    <span style="color: #ce537a; font-weight: bold;">void</span> addColor<span style="color: #bc6ec5;">()</span>
    <span style="color: #bc6ec5;">{</span>
        System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Black color added"</span><span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>

<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">ColorStore</span> <span style="color: #4f97d7;">{</span>

    <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">Map</span><span style="color: #bc6ec5;">&lt;</span>String, <span style="color: #ce537a; font-weight: bold;">Color</span><span style="color: #bc6ec5;">&gt;</span> colorMap = <span style="color: #4f97d7; font-weight: bold;">new</span> HashMap<span style="color: #bc6ec5;">&lt;</span>String, <span style="color: #ce537a; font-weight: bold;">Color</span><span style="color: #bc6ec5;">&gt;()</span>;

    <span style="color: #4f97d7; font-weight: bold;">static</span>
    <span style="color: #bc6ec5;">{</span>
        colorMap.put<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"blue"</span>, <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">blueColor</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
        colorMap.put<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"black"</span>, <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">blackColor</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
    <span style="color: #bc6ec5;">}</span>

    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> Color getColor<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">colorName</span><span style="color: #bc6ec5;">)</span>
    <span style="color: #bc6ec5;">{</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">Color</span><span style="color: #2d9574;">)</span> colorMap.get<span style="color: #2d9574;">(</span>colorName<span style="color: #2d9574;">)</span>.clone<span style="color: #2d9574;">()</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Driver class</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Prototype</span>
<span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> main <span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> args<span style="color: #bc6ec5;">)</span>
    <span style="color: #bc6ec5;">{</span>
        ColorStore.getColor<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"blue"</span><span style="color: #2d9574;">)</span>.addColor<span style="color: #2d9574;">()</span>;
        ColorStore.getColor<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"black"</span><span style="color: #2d9574;">)</span>.addColor<span style="color: #2d9574;">()</span>;
        ColorStore.getColor<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"black"</span><span style="color: #2d9574;">)</span>.addColor<span style="color: #2d9574;">()</span>;
        ColorStore.getColor<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"blue"</span><span style="color: #2d9574;">)</span>.addColor<span style="color: #2d9574;">()</span>;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>



<span style="color: #7590db;">Output</span> :


Blue color added
Black color added
Black color added
Blue color added
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd07db16" class="outline-3">
<h3 id="orgd07db16"><span class="section-number-3">1.16</span> simple factory&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-16">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orge63dd50" class="outline-4">
<h4 id="orge63dd50"><span class="section-number-4">1.16.1</span> code</h4>
<div class="outline-text-4" id="text-1-16-1">
<div class="org-src-container">
<pre class="src src-cpp"> &#26222;&#36890;&#30340;&#24037;&#24288;&#26041;&#27861;&#27169;&#24335;&#36890;&#24120;&#20276;&#38568;&#33879;&#29289;&#20214;&#30340;&#20855;&#39636;&#39006;&#22411;&#33287;&#24037;&#24288;&#20855;&#39636;&#39006;&#22411;&#30340;&#19968;&#19968;&#23565;&#25033;&#65292;&#29992;&#25142;&#31471;&#20195;&#30908;
 &#26681;&#25818;&#38656;&#35201;&#36984;&#25799;&#21512;&#36969;&#30340;&#20855;&#39636;&#39006;&#22411;&#24037;&#24288;&#20351;&#29992;&#12290;&#28982;&#32780;&#65292;&#36889;&#31278;&#36984;&#25799;&#21487;&#33021;&#21253;&#21547;&#35079;&#38620;&#30340;&#37007;&#36655;&#12290;&#36889;&#26178;&#65292;&#21487;
 &#20197;&#24314;&#31435;&#19968;&#20491;&#21934;&#19968;&#30340;&#24037;&#24288;&#39006;&#65292;&#29992;&#20197;&#21253;&#21547;&#36889;&#31278;&#36984;&#25799;&#37007;&#36655;&#65292;&#26681;&#25818;&#21443;&#25976;&#30340;&#19981;&#21516;&#36984;&#25799;&#23526;&#29694;&#19981;&#21516;&#30340;&#20855;&#39636;
 &#29289;&#20214;&#12290;&#36889;&#20491;&#24037;&#24288;&#39006;&#19981;&#38656;&#35201;&#30001;&#27599;&#20491;&#20855;&#39636;&#29986;&#21697;&#23526;&#29694;&#19968;&#20491;&#33258;&#24049;&#30340;&#20855;&#39636;&#30340;&#24037;&#24288;&#39006;&#65292;&#25152;&#20197;&#21487;&#20197;&#23559;&#24037;&#24288;
 &#26041;&#27861;&#35373;&#23450;&#28858;&#38748;&#24907;&#26041;&#27861;&#12290; &#32780;&#19988;&#65292;&#24037;&#24288;&#26041;&#27861;&#23553;&#35037;&#20102;&#29289;&#20214;&#30340;&#24314;&#31435;&#36942;&#31243;&#12290;&#22914;&#26524;&#24314;&#31435;&#36942;&#31243;&#38750;&#24120;&#35079;&#38620;
 <span style="color: #4f97d7;">&#65288;</span>&#27604;&#22914;&#20381;&#36084;&#26044;&#35373;&#23450;&#27284;&#25110;&#29992;&#25142;&#36664;&#20837;<span style="color: #4f97d7;">&#65289;</span>&#65292;&#24037;&#24288;&#26041;&#27861;&#23601;&#38750;&#24120;&#26377;&#29992;&#20102;&#12290; &#27604;&#22914;&#65292;&#19968;&#20491;&#31243;&#24335;&#35201;&#35712;&#21462;&#22294;&#27284;&#12290;
 &#31243;&#24335;&#25903;&#25588;&#22810;&#31278;&#22294;&#20687;&#26684;&#24335;&#65292;&#27599;&#31278;&#26684;&#24335;&#37117;&#26377;&#19968;&#20491;&#23565;&#25033;&#30340;ImageReader&#39006;&#29992;&#20358;&#35712;&#21462;&#22294;&#20687;&#12290;&#31243;&#24335;&#27599;&#27425;
 &#35712;&#21462;&#22294;&#20687;&#26178;&#65292;&#38656;&#35201;&#22522;&#26044;&#27284;&#26696;&#36039;&#35338;&#24314;&#31435;&#21512;&#36969;&#39006;&#22411;&#30340;ImageReader&#12290;&#36889;&#20491;&#36984;&#25799;&#37007;&#36655;&#21487;&#20197;&#21253;&#35037;&#22312;&#19968;
 &#20491;&#31777;&#21934;&#24037;&#24288;&#20013;&#65306;

<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">ImageReaderFactory</span> <span style="color: #4f97d7;">{</span>
    <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> ImageReader imageReaderFactoryMethod<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">InputStream</span> <span style="color: #7590db;">is</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
        <span style="color: #ce537a; font-weight: bold;">ImageReader</span> <span style="color: #7590db;">product</span> = null;

        <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">imageType</span> = determineImageType<span style="color: #2d9574;">(</span>is<span style="color: #2d9574;">)</span>;
        <span style="color: #4f97d7; font-weight: bold;">switch</span> <span style="color: #2d9574;">(</span>imageType<span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
            <span style="color: #4f97d7; font-weight: bold;">case</span> ImageReaderFactory.GIF:
                product = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">GifReader</span><span style="color: #67b11d;">(</span>is<span style="color: #67b11d;">)</span>;
            <span style="color: #4f97d7; font-weight: bold;">case</span> ImageReaderFactory.JPEG:
                product = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">JpegReader</span><span style="color: #67b11d;">(</span>is<span style="color: #67b11d;">)</span>;
            <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">...</span>
        <span style="color: #2d9574;">}</span>
        <span style="color: #4f97d7; font-weight: bold;">return</span> product;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdbec8ad" class="outline-3">
<h3 id="orgdbec8ad"><span class="section-number-3">1.17</span> virtual&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-1-17">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org2e28aa1" class="outline-4">
<h4 id="org2e28aa1"><span class="section-number-4">1.17.1</span> code</h4>
<div class="outline-text-4" id="text-1-17-1">
<div class="org-src-container">
<pre class="src src-org">
 When a method is declared virtual, compiler secretly does two things for us:

1. Defines a VPtr in first 4 bytes of the class object
2. Inserts code in constructor to initialize VPtr to point to the VTable

What are VTable and VPtr?

When a method is declared virtual in a class, 
1. compiler creates a virtual table (aka VTable) 
2. stores addresses of virtual methods in that table. 

A virtual pointer (aka VPtr) is then created and initialized to point to that
VTable. A VTable is shared across all the instances of the class, i.e. compiler
creates only one instance of VTable to be shared across all the objects of a
class. Each instance of the class has its own version of VPtr. If we print the
size of a class object containing at least one virtual method, the output will
be sizeof(class data) + sizeof(VPtr). Since address of virtual method is stored
in VTable, VPtr can be manipulated to make calls to those virtual methods
thereby violating principles of encapsulation. See below example:


</pre>
</div>
<div class="org-src-container">
<pre class="src src-cpp"><span style="color: #bc6ec5;">#include</span> <span style="color: #4f97d7;">&lt;</span><span style="color: #2d9574;">iostream</span><span style="color: #4f97d7;">&gt;</span>
<span style="color: #4f97d7; font-weight: bold;">using</span> <span style="color: #4f97d7; font-weight: bold;">namespace</span> <span style="color: #a45bad;">std</span>;

<span style="color: #bc6ec5;">#pragma</span> pack<span style="color: #4f97d7;">(</span><span style="color: #a45bad;">1</span><span style="color: #4f97d7;">)</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">A base class with virtual function foo()</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">CBase</span>
<span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #4f97d7; font-weight: bold;">virtual</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">foo</span><span style="color: #bc6ec5;">()</span> <span style="color: #4f97d7; font-weight: bold;">noexcept</span> <span style="color: #bc6ec5;">{</span>
        cout &lt;&lt; <span style="color: #2d9574;">"CBase::Foo() called"</span> &lt;&lt; endl;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7; font-weight: bold;">protected</span>:
    <span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #7590db;">mData</span>;
<span style="color: #4f97d7;">}</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">A derived class with its own implementation</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">of foo()</span>
<span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">CDerived</span> : <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">CBase</span>
<span style="color: #4f97d7;">{</span>
<span style="color: #4f97d7; font-weight: bold;">public</span>:
    <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">foo</span><span style="color: #bc6ec5;">()</span> <span style="color: #4f97d7; font-weight: bold;">noexcept</span>  <span style="color: #bc6ec5;">{</span>
        cout &lt;&lt; <span style="color: #2d9574;">"CDerived::Foo() called"</span> &lt;&lt; endl;
    <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7; font-weight: bold;">private</span>:
    <span style="color: #ce537a; font-weight: bold;">char</span> <span style="color: #7590db;">cChar</span>;
<span style="color: #4f97d7;">}</span>;

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Driver code</span>
<span style="color: #ce537a; font-weight: bold;">int</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #4f97d7;">()</span>
<span style="color: #4f97d7;">{</span>
    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">A base type pointer pointing to derived</span>
    <span style="color: #ce537a; font-weight: bold;">CBase</span> *<span style="color: #7590db;">pBase</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">CDerived</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Accessing vPtr</span>
    <span style="color: #ce537a; font-weight: bold;">int</span>* <span style="color: #7590db;">pVPtr</span> = *<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span>**<span style="color: #bc6ec5;">)</span>pBase;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Calling virtual method</span>
    <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">void</span><span style="color: #67b11d;">(</span>*<span style="color: #67b11d;">)()</span><span style="color: #2d9574;">)</span>pVPtr<span style="color: #2d9574;">[</span><span style="color: #a45bad;">0</span><span style="color: #2d9574;">]</span><span style="color: #bc6ec5;">)()</span>;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Changing vPtr</span>
    <span style="color: #4f97d7; font-weight: bold;">delete</span> pBase;
    pBase = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">CBase</span>;
    pVPtr = *<span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">int</span>**<span style="color: #bc6ec5;">)</span>pBase;

    <span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Calls method for new base object</span>
    <span style="color: #bc6ec5;">(</span><span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">void</span><span style="color: #67b11d;">(</span>*<span style="color: #67b11d;">)()</span><span style="color: #2d9574;">)</span>pVPtr<span style="color: #2d9574;">[</span><span style="color: #a45bad;">0</span><span style="color: #2d9574;">]</span><span style="color: #bc6ec5;">)()</span>;

    <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">0</span>;
<span style="color: #4f97d7;">}</span>


Output :


<span style="color: #a45bad;">CDerived</span>::Foo<span style="color: #4f97d7;">()</span> <span style="color: #ce537a; font-weight: bold;">called</span>
<span style="color: #a45bad;">CBase</span>::<span style="color: #bc6ec5; font-weight: bold;">Foo</span><span style="color: #4f97d7;">()</span> called
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-orgabf12e1" class="outline-2">
<h2 id="orgabf12e1"><span class="section-number-2">2</span> design pattern tutorial point</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org825ac66" class="outline-3">
<h3 id="org825ac66"><span class="section-number-3">2.1</span> factory pattern&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-2-1">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org02bd865" class="outline-4">
<h4 id="org02bd865"><span class="section-number-4">2.1.1</span> code</h4>
<div class="outline-text-4" id="text-2-1-1">
<div class="org-src-container">
<pre class="src src-java"><span style="color: #2aa1ae; background-color: #292e34;">//  </span><span style="color: #2aa1ae; background-color: #292e34;">Step 1</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Create an interface.</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Shape.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">interface</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span>;
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Step 2</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Create concrete classes implementing the same interface.</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Rectangle.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Rectangle</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Inside Rectangle::draw() method."</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Square.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Square</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Inside Square::draw() method."</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Circle.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Circle</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Inside Circle::draw() method."</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Step 3</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Create a Factory to generate object of concrete class based on given information.</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">ShapeFactory.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">ShapeFactory</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">use getShape method to get object of type shape</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #bc6ec5; font-weight: bold;">getShape</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">shapeType</span><span style="color: #bc6ec5;">){</span>
      <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>shapeType == <span style="color: #a45bad;">null</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">null</span>;
      <span style="color: #2d9574;">}</span>
      <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>shapeType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"CIRCLE"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Circle</span><span style="color: #67b11d;">()</span>;

      <span style="color: #2d9574;">}</span> <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>shapeType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"RECTANGLE"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Rectangle</span><span style="color: #67b11d;">()</span>;

      <span style="color: #2d9574;">}</span> <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>shapeType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"SQUARE"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Square</span><span style="color: #67b11d;">()</span>;
      <span style="color: #2d9574;">}</span>

      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">null</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Step 4</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Use the Factory to get object of concrete class by passing an information such as type.</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">FactoryPatternDemo.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">FactoryPatternDemo</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #7590db;">args</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #ce537a; font-weight: bold;">ShapeFactory</span> <span style="color: #7590db;">shapeFactory</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">ShapeFactory</span><span style="color: #2d9574;">()</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">get an object of Circle and call its draw method.</span>
      <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #7590db;">shape1</span> = shapeFactory.getShape<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"CIRCLE"</span><span style="color: #2d9574;">)</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">call draw method of Circle</span>
      shape1.draw<span style="color: #2d9574;">()</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">get an object of Rectangle and call its draw method.</span>
      <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #7590db;">shape2</span> = shapeFactory.getShape<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"RECTANGLE"</span><span style="color: #2d9574;">)</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">call draw method of Rectangle</span>
      shape2.draw<span style="color: #2d9574;">()</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">get an object of Square and call its draw method.</span>
      <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #7590db;">shape3</span> = shapeFactory.getShape<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"SQUARE"</span><span style="color: #2d9574;">)</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">call draw method of circle</span>
      shape3.draw<span style="color: #2d9574;">()</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Step 5</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Verify the output.</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Inside Circle::draw() method.</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Inside Rectangle::draw() method.</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Inside Square::draw() method.</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd3fb1d2" class="outline-3">
<h3 id="orgd3fb1d2"><span class="section-number-3">2.2</span> abstract factory&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-2-2">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org2928ec1" class="outline-4">
<h4 id="org2928ec1"><span class="section-number-4">2.2.1</span> code</h4>
<div class="outline-text-4" id="text-2-2-1">
<div class="org-src-container">
<pre class="src src-java"><span style="color: #2aa1ae; background-color: #292e34;">//  </span><span style="color: #2aa1ae; background-color: #292e34;">Step 1</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Create an interface for Shapes.</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Shape.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">interface</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span>;
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Step 2</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Create concrete classes implementing the same interface.</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Rectangle.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Rectangle</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Inside Rectangle::draw() method."</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Square.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Square</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Inside Square::draw() method."</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Circle.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Circle</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">draw</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Inside Circle::draw() method."</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Step 3</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Create an interface for Colors.</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Color.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">interface</span> <span style="color: #ce537a; font-weight: bold;">Color</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">fill</span><span style="color: #bc6ec5;">()</span>;
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Step4</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Create concrete classes implementing the same interface.</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Red.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Red</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Color</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">fill</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Inside Red::fill() method."</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>




<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Green</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Color</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">fill</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Inside Green::fill() method."</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>




<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Blue</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Color</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">fill</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Inside Blue::fill() method."</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Step 5</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Create an Abstract class to get factories for Color and Shape Objects.</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">AbstractFactory.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">AbstractFactory</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #ce537a; font-weight: bold;">Color</span> <span style="color: #bc6ec5; font-weight: bold;">getColor</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">color</span><span style="color: #bc6ec5;">)</span>;
   <span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #bc6ec5; font-weight: bold;">getShape</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">shape</span><span style="color: #bc6ec5;">)</span> ;
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Step 6</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Create Factory classes extending AbstractFactory to generate object of</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">concrete class based on given information.</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">ShapeFactory.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">ShapeFactory</span> <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">AbstractFactory</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #bc6ec5; font-weight: bold;">getShape</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">shapeType</span><span style="color: #bc6ec5;">){</span>

      <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>shapeType == <span style="color: #a45bad;">null</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">null</span>;
      <span style="color: #2d9574;">}</span>

      <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>shapeType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"CIRCLE"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Circle</span><span style="color: #67b11d;">()</span>;

      <span style="color: #2d9574;">}</span><span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>shapeType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"RECTANGLE"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Rectangle</span><span style="color: #67b11d;">()</span>;

      <span style="color: #2d9574;">}</span><span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>shapeType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"SQUARE"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Square</span><span style="color: #67b11d;">()</span>;
      <span style="color: #2d9574;">}</span>

      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">null</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #ce537a; font-weight: bold;">Color</span> <span style="color: #bc6ec5; font-weight: bold;">getColor</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">color</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">null</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">ColorFactory.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">ColorFactory</span> <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">AbstractFactory</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #bc6ec5; font-weight: bold;">getShape</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">shapeType</span><span style="color: #bc6ec5;">){</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">null</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #ce537a; font-weight: bold;">Color</span> <span style="color: #bc6ec5; font-weight: bold;">getColor</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">color</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>

      <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>color == <span style="color: #a45bad;">null</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">null</span>;
      <span style="color: #2d9574;">}</span>

      <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>color.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"RED"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Red</span><span style="color: #67b11d;">()</span>;

      <span style="color: #2d9574;">}</span><span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>color.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"GREEN"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Green</span><span style="color: #67b11d;">()</span>;

      <span style="color: #2d9574;">}</span><span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>color.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"BLUE"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Blue</span><span style="color: #67b11d;">()</span>;
      <span style="color: #2d9574;">}</span>

      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">null</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Step 7</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Create a Factory generator/producer class to get factories by passing an information such as Shape or Color</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">FactoryProducer.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">FactoryProducer</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">AbstractFactory</span> <span style="color: #bc6ec5; font-weight: bold;">getFactory</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">choice</span><span style="color: #bc6ec5;">){</span>

      <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>choice.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"SHAPE"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">ShapeFactory</span><span style="color: #67b11d;">()</span>;

      <span style="color: #2d9574;">}</span><span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>choice.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"COLOR"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">ColorFactory</span><span style="color: #67b11d;">()</span>;
      <span style="color: #2d9574;">}</span>

      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">null</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Step 8</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">Use the FactoryProducer to get AbstractFactory in order to get factories of</span>
<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">concrete classes by passing an information such as type.</span>

<span style="color: #2aa1ae; background-color: #292e34;">// </span><span style="color: #2aa1ae; background-color: #292e34;">AbstractFactoryPatternDemo.java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">AbstractFactoryPatternDemo</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #7590db;">args</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">get shape factory</span>
      <span style="color: #ce537a; font-weight: bold;">AbstractFactory</span> <span style="color: #7590db;">shapeFactory</span> = FactoryProducer.getFactory<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"SHAPE"</span><span style="color: #2d9574;">)</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">get an object of Shape Circle</span>
      <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #7590db;">shape1</span> = shapeFactory.getShape<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"CIRCLE"</span><span style="color: #2d9574;">)</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">call draw method of Shape Circle</span>
      shape1.draw<span style="color: #2d9574;">()</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">get an object of Shape Rectangle</span>
      <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #7590db;">shape2</span> = shapeFactory.getShape<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"RECTANGLE"</span><span style="color: #2d9574;">)</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">call draw method of Shape Rectangle</span>
      shape2.draw<span style="color: #2d9574;">()</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">get an object of Shape Square</span>
      <span style="color: #ce537a; font-weight: bold;">Shape</span> <span style="color: #7590db;">shape3</span> = shapeFactory.getShape<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"SQUARE"</span><span style="color: #2d9574;">)</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">call draw method of Shape Square</span>
      shape3.draw<span style="color: #2d9574;">()</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">get color factory</span>
      <span style="color: #ce537a; font-weight: bold;">AbstractFactory</span> <span style="color: #7590db;">colorFactory</span> = FactoryProducer.getFactory<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"COLOR"</span><span style="color: #2d9574;">)</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">get an object of Color Red</span>
      <span style="color: #ce537a; font-weight: bold;">Color</span> <span style="color: #7590db;">color1</span> = colorFactory.getColor<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"RED"</span><span style="color: #2d9574;">)</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">call fill method of Red</span>
      color1.fill<span style="color: #2d9574;">()</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">get an object of Color Green</span>
      <span style="color: #ce537a; font-weight: bold;">Color</span> <span style="color: #7590db;">color2</span> = colorFactory.getColor<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Green"</span><span style="color: #2d9574;">)</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">call fill method of Green</span>
      color2.fill<span style="color: #2d9574;">()</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">get an object of Color Blue</span>
      <span style="color: #ce537a; font-weight: bold;">Color</span> <span style="color: #7590db;">color3</span> = colorFactory.getColor<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"BLUE"</span><span style="color: #2d9574;">)</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">call fill method of Color Blue</span>
      color3.fill<span style="color: #2d9574;">()</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">9</span>

Verify the <span style="color: #a45bad;">output</span>.


Inside Circle::draw<span style="color: #4f97d7;">()</span> <span style="color: #a45bad;">method</span>.
Inside Rectangle::draw<span style="color: #4f97d7;">()</span> <span style="color: #a45bad;">method</span>.
Inside Square::draw<span style="color: #4f97d7;">()</span> <span style="color: #a45bad;">method</span>.
Inside Red::fill<span style="color: #4f97d7;">()</span> <span style="color: #a45bad;">method</span>.
Inside Green::fill<span style="color: #4f97d7;">()</span> <span style="color: #a45bad;">method</span>.
Inside Blue::fill<span style="color: #4f97d7;">()</span> method.
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6e31fd8" class="outline-3">
<h3 id="org6e31fd8"><span class="section-number-3">2.3</span> singleton&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-orga1b5f9c" class="outline-4">
<h4 id="orga1b5f9c"><span class="section-number-4">2.3.1</span> code</h4>
<div class="outline-text-4" id="text-2-3-1">
<div class="org-src-container">
<pre class="src src-java">
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">SingleObject</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">create an object of SingleObject</span>
   <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">SingleObject</span> <span style="color: #7590db;">instance</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">SingleObject</span><span style="color: #bc6ec5;">()</span>;

   <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">make the constructor private so that this class cannot be</span>
   <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">instantiated</span>
   <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #bc6ec5; font-weight: bold;">SingleObject</span><span style="color: #bc6ec5;">(){}</span>

   <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">Get the only object available</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">SingleObject</span> <span style="color: #bc6ec5; font-weight: bold;">getInstance</span><span style="color: #bc6ec5;">(){</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> instance;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">showMessage</span><span style="color: #bc6ec5;">(){</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Hello World!"</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>



<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">SingletonPatternDemo</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #7590db;">args</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">illegal construct</span>
      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">Compile Time Error: The constructor SingleObject() is not visible</span>
      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">SingleObject object = new SingleObject();</span>

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">Get the only object available</span>
      <span style="color: #ce537a; font-weight: bold;">SingleObject</span> <span style="color: #7590db;">object</span> = SingleObject.getInstance<span style="color: #2d9574;">()</span>;

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">show the message</span>
      object.showMessage<span style="color: #2d9574;">()</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">3</span>

Verify the <span style="color: #a45bad;">output</span>.


Hello World<span style="color: #a45bad;">!</span>

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org82aac02" class="outline-3">
<h3 id="org82aac02"><span class="section-number-3">2.4</span> builder&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-2-4">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org0a7f1b7" class="outline-4">
<h4 id="org0a7f1b7"><span class="section-number-4">2.4.1</span> code</h4>
<div class="outline-text-4" id="text-2-4-1">
<div class="org-src-container">
<pre class="src src-java">
<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">interface</span> <span style="color: #ce537a; font-weight: bold;">Item</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">name</span><span style="color: #bc6ec5;">()</span>;
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Packing</span> <span style="color: #bc6ec5; font-weight: bold;">packing</span><span style="color: #bc6ec5;">()</span>;
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">float</span> <span style="color: #bc6ec5; font-weight: bold;">price</span><span style="color: #bc6ec5;">()</span>;
<span style="color: #4f97d7;">}</span>


Packing.<span style="color: #ce537a; font-weight: bold;">java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">interface</span> Packing <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">pack</span><span style="color: #bc6ec5;">()</span>;
<span style="color: #4f97d7;">}</span>



<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Wrapper</span> <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Packing</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">pack</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">"Wrapper"</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Bottle.<span style="color: #ce537a; font-weight: bold;">java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> Bottle <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Packing</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">pack</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">"Bottle"</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">3</span>

Create <span style="color: #4f97d7; font-weight: bold;">abstract</span> classes implementing the item <span style="color: #4f97d7; font-weight: bold;">interface</span> providing <span style="color: #4f97d7; font-weight: bold;">default</span> <span style="color: #a45bad;">functionalities</span>.

Burger.java


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #4f97d7; font-weight: bold;">class</span> Burger <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Item</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Packing</span> <span style="color: #bc6ec5; font-weight: bold;">packing</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Wrapper</span><span style="color: #2d9574;">()</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #ce537a; font-weight: bold;">float</span> <span style="color: #bc6ec5; font-weight: bold;">price</span><span style="color: #bc6ec5;">()</span>;
<span style="color: #4f97d7;">}</span>


ColdDrink.<span style="color: #ce537a; font-weight: bold;">java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #4f97d7; font-weight: bold;">class</span> ColdDrink <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">Item</span> <span style="color: #4f97d7;">{</span>

  <span style="color: #a45bad;">@Override</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Packing</span> <span style="color: #bc6ec5; font-weight: bold;">packing</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
       <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Bottle</span><span style="color: #2d9574;">()</span>;
  <span style="color: #bc6ec5;">}</span>

  <span style="color: #a45bad;">@Override</span>
  <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">abstract</span> <span style="color: #ce537a; font-weight: bold;">float</span> <span style="color: #bc6ec5; font-weight: bold;">price</span><span style="color: #bc6ec5;">()</span>;
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">4</span>

Create concrete classes extending Burger and ColdDrink classes

VegBurger.java


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> VegBurger <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">Burger</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">float</span> <span style="color: #bc6ec5; font-weight: bold;">price</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">25</span>.<span style="color: #a45bad;">0f</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">name</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">"Veg Burger"</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


ChickenBurger.<span style="color: #ce537a; font-weight: bold;">java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> ChickenBurger <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">Burger</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">float</span> <span style="color: #bc6ec5; font-weight: bold;">price</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">50</span>.<span style="color: #a45bad;">5f</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">name</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">"Chicken Burger"</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Coke.<span style="color: #ce537a; font-weight: bold;">java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> Coke <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">ColdDrink</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">float</span> <span style="color: #bc6ec5; font-weight: bold;">price</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">30</span>.<span style="color: #a45bad;">0f</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">name</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">"Coke"</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Pepsi.<span style="color: #ce537a; font-weight: bold;">java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> Pepsi <span style="color: #4f97d7; font-weight: bold;">extends</span> <span style="color: #ce537a; font-weight: bold;">ColdDrink</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">float</span> <span style="color: #bc6ec5; font-weight: bold;">price</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #a45bad;">35</span>.<span style="color: #a45bad;">0f</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #bc6ec5; font-weight: bold;">name</span><span style="color: #bc6ec5;">()</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> <span style="color: #2d9574;">"Pepsi"</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">5</span>

Create a Meal <span style="color: #4f97d7; font-weight: bold;">class</span> having Item objects defined <span style="color: #a45bad;">above</span>.

Meal.java


<span style="color: #4f97d7; font-weight: bold;">import</span> <span style="color: #a45bad;">java</span>.<span style="color: #a45bad;">util</span>.<span style="color: #ce537a; font-weight: bold;">ArrayList</span>;
<span style="color: #4f97d7; font-weight: bold;">import</span> <span style="color: #a45bad;">java</span>.<span style="color: #a45bad;">util</span>.<span style="color: #ce537a; font-weight: bold;">List</span>;

<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> <span style="color: #ce537a; font-weight: bold;">Meal</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">private</span> <span style="color: #ce537a; font-weight: bold;">List</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">Item</span><span style="color: #bc6ec5;">&gt;</span> <span style="color: #7590db;">items</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">ArrayList</span><span style="color: #bc6ec5;">&lt;</span><span style="color: #ce537a; font-weight: bold;">Item</span><span style="color: #bc6ec5;">&gt;()</span>;

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">addItem</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">Item</span> <span style="color: #7590db;">item</span><span style="color: #bc6ec5;">){</span>
      items.add<span style="color: #2d9574;">(</span>item<span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">float</span> <span style="color: #bc6ec5; font-weight: bold;">getCost</span><span style="color: #bc6ec5;">(){</span>
      <span style="color: #ce537a; font-weight: bold;">float</span> <span style="color: #7590db;">cost</span> = <span style="color: #a45bad;">0</span>.<span style="color: #a45bad;">0f</span>;

      <span style="color: #4f97d7; font-weight: bold;">for</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">Item</span> <span style="color: #7590db;">item</span> : items<span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
         cost += item.price<span style="color: #67b11d;">()</span>;
      <span style="color: #2d9574;">}</span>
      <span style="color: #4f97d7; font-weight: bold;">return</span> cost;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">showItems</span><span style="color: #bc6ec5;">(){</span>

      <span style="color: #4f97d7; font-weight: bold;">for</span> <span style="color: #2d9574;">(</span><span style="color: #ce537a; font-weight: bold;">Item</span> <span style="color: #7590db;">item</span> : items<span style="color: #2d9574;">)</span> <span style="color: #2d9574;">{</span>
         System.out.print<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"Item : "</span> + item.name<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;
         System.out.print<span style="color: #67b11d;">(</span><span style="color: #2d9574;">", Packing : "</span> + item.packing<span style="color: #b1951d;">()</span>.pack<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;
         System.out.println<span style="color: #67b11d;">(</span><span style="color: #2d9574;">", Price : "</span> + item.price<span style="color: #b1951d;">()</span><span style="color: #67b11d;">)</span>;
      <span style="color: #2d9574;">}</span>
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">6</span>

Create a MealBuilder <span style="color: #4f97d7; font-weight: bold;">class</span>, the actual builder <span style="color: #4f97d7; font-weight: bold;">class</span> responsible to create Meal <span style="color: #a45bad;">objects</span>.

MealBuilder.<span style="color: #ce537a; font-weight: bold;">java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> MealBuilder <span style="color: #4f97d7;">{</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Meal</span> <span style="color: #bc6ec5; font-weight: bold;">prepareVegMeal</span> <span style="color: #bc6ec5;">(){</span>
      <span style="color: #ce537a; font-weight: bold;">Meal</span> <span style="color: #7590db;">meal</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Meal</span><span style="color: #2d9574;">()</span>;
      meal.addItem<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">VegBurger</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
      meal.addItem<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Coke</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
      <span style="color: #4f97d7; font-weight: bold;">return</span> meal;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">Meal</span> <span style="color: #bc6ec5; font-weight: bold;">prepareNonVegMeal</span> <span style="color: #bc6ec5;">(){</span>
      <span style="color: #ce537a; font-weight: bold;">Meal</span> <span style="color: #7590db;">meal</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Meal</span><span style="color: #2d9574;">()</span>;
      meal.addItem<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">ChickenBurger</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
      meal.addItem<span style="color: #2d9574;">(</span><span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Pepsi</span><span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
      <span style="color: #4f97d7; font-weight: bold;">return</span> meal;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">7</span>

BuiderPatternDemo uses MealBuider to demonstrate builder <span style="color: #a45bad;">pattern</span>.

BuilderPatternDemo.java


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> BuilderPatternDemo <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #7590db;">args</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>

      <span style="color: #ce537a; font-weight: bold;">MealBuilder</span> <span style="color: #7590db;">mealBuilder</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">MealBuilder</span><span style="color: #2d9574;">()</span>;

      <span style="color: #ce537a; font-weight: bold;">Meal</span> <span style="color: #7590db;">vegMeal</span> = mealBuilder.prepareVegMeal<span style="color: #2d9574;">()</span>;
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Veg Meal"</span><span style="color: #2d9574;">)</span>;
      vegMeal.showItems<span style="color: #2d9574;">()</span>;
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Total Cost: "</span> + vegMeal.getCost<span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;

      <span style="color: #ce537a; font-weight: bold;">Meal</span> <span style="color: #7590db;">nonVegMeal</span> = mealBuilder.prepareNonVegMeal<span style="color: #2d9574;">()</span>;
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"\n\nNon-Veg Meal"</span><span style="color: #2d9574;">)</span>;
      nonVegMeal.showItems<span style="color: #2d9574;">()</span>;
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Total Cost: "</span> + nonVegMeal.getCost<span style="color: #67b11d;">()</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">8</span>

Verify the <span style="color: #a45bad;">output</span>.


Veg Meal
Item : Veg <span style="color: #7590db;">Burger</span>, <span style="color: #7590db;">Packing</span> : Wrapper, <span style="color: #7590db;">Price</span> : <span style="color: #a45bad;">25</span>.<span style="color: #a45bad;">0</span>
Item : Coke, <span style="color: #7590db;">Packing</span> : Bottle, <span style="color: #7590db;">Price</span> : <span style="color: #a45bad;">30</span>.<span style="color: #a45bad;">0</span>
Total Cost: <span style="color: #a45bad;">55</span>.<span style="color: #a45bad;">0</span>


Non-Veg Meal
Item : Chicken Burger, <span style="color: #7590db;">Packing</span> : Wrapper, <span style="color: #7590db;">Price</span> : <span style="color: #a45bad;">50</span>.<span style="color: #a45bad;">5</span>
Item : Pepsi, <span style="color: #7590db;">Packing</span> : Bottle, <span style="color: #7590db;">Price</span> : <span style="color: #a45bad;">35</span>.<span style="color: #a45bad;">0</span>
Total Cost: <span style="color: #a45bad;">85</span>.<span style="color: #a45bad;">5</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org69742d8" class="outline-3">
<h3 id="org69742d8"><span class="section-number-3">2.5</span> adapter&#xa0;&#xa0;&#xa0;<span class="tag"><span class="drill">drill</span></span></h3>
<div class="outline-text-3" id="text-2-5">
<ul class="org-ul">
<li>note : 
<ul class="org-ul">
<li></li>
</ul></li>
</ul>
</div>
<div id="outline-container-org29b609b" class="outline-4">
<h4 id="org29b609b"><span class="section-number-4">2.5.1</span> code</h4>
<div class="outline-text-4" id="text-2-5-1">
<div class="org-src-container">
<pre class="src src-java"> Step <span style="color: #a45bad;">1</span>

Create interfaces <span style="color: #4f97d7; font-weight: bold;">for</span> Media Player and Advanced Media <span style="color: #a45bad;">Player</span>.

MediaPlayer.java


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">interface</span> MediaPlayer <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">play</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">audioType</span>, <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">fileName</span><span style="color: #bc6ec5;">)</span>;
<span style="color: #4f97d7;">}</span>


AdvancedMediaPlayer.<span style="color: #ce537a; font-weight: bold;">java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">interface</span> AdvancedMediaPlayer <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">playVlc</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">fileName</span><span style="color: #bc6ec5;">)</span>;
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">playMp4</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">fileName</span><span style="color: #bc6ec5;">)</span>;
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">2</span>

Create concrete classes implementing the AdvancedMediaPlayer <span style="color: #4f97d7; font-weight: bold;">interface</span>.

VlcPlayer.java


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> VlcPlayer <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">AdvancedMediaPlayer</span><span style="color: #4f97d7;">{</span>
   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">playVlc</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">fileName</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Playing vlc file. Name: "</span>+ fileName<span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">playMp4</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">fileName</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">do nothing</span>
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Mp4Player.<span style="color: #ce537a; font-weight: bold;">java</span>


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> Mp4Player <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">AdvancedMediaPlayer</span><span style="color: #4f97d7;">{</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">playVlc</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">fileName</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">do nothing</span>
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">playMp4</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">fileName</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
      System.out.println<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"Playing mp4 file. Name: "</span>+ fileName<span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">3</span>

Create adapter <span style="color: #4f97d7; font-weight: bold;">class</span> implementing the MediaPlayer <span style="color: #4f97d7; font-weight: bold;">interface</span>.

MediaAdapter.java


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> MediaAdapter <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">MediaPlayer</span> <span style="color: #4f97d7;">{</span>

   <span style="color: #ce537a; font-weight: bold;">AdvancedMediaPlayer</span> <span style="color: #7590db;">advancedMusicPlayer</span>;

   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #bc6ec5; font-weight: bold;">MediaAdapter</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">audioType</span><span style="color: #bc6ec5;">){</span>

      <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>audioType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"vlc"</span><span style="color: #67b11d;">)</span> <span style="color: #2d9574;">){</span>
         advancedMusicPlayer = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">VlcPlayer</span><span style="color: #67b11d;">()</span>;

      <span style="color: #2d9574;">}</span><span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #4f97d7; font-weight: bold;">if</span> <span style="color: #2d9574;">(</span>audioType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"mp4"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         advancedMusicPlayer = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">Mp4Player</span><span style="color: #67b11d;">()</span>;
      <span style="color: #2d9574;">}</span>
   <span style="color: #bc6ec5;">}</span>

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">play</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">audioType</span>, <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">fileName</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>

      <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>audioType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"vlc"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         advancedMusicPlayer.playVlc<span style="color: #67b11d;">(</span>fileName<span style="color: #67b11d;">)</span>;
      <span style="color: #2d9574;">}</span>
      <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>audioType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"mp4"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         advancedMusicPlayer.playMp4<span style="color: #67b11d;">(</span>fileName<span style="color: #67b11d;">)</span>;
      <span style="color: #2d9574;">}</span>
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">4</span>

Create concrete <span style="color: #4f97d7; font-weight: bold;">class</span> implementing the MediaPlayer <span style="color: #4f97d7; font-weight: bold;">interface</span>.

AudioPlayer.java


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> AudioPlayer <span style="color: #4f97d7; font-weight: bold;">implements</span> <span style="color: #ce537a; font-weight: bold;">MediaPlayer</span> <span style="color: #4f97d7;">{</span>
   <span style="color: #ce537a; font-weight: bold;">MediaAdapter</span> <span style="color: #7590db;">mediaAdapter</span>;

   <span style="color: #a45bad;">@Override</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">play</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">audioType</span>, <span style="color: #ce537a; font-weight: bold;">String</span> <span style="color: #7590db;">fileName</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">inbuilt support to play mp3 music files</span>
      <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>audioType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"mp3"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         System.out.println<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"Playing mp3 file. Name: "</span> + fileName<span style="color: #67b11d;">)</span>;
      <span style="color: #2d9574;">}</span>

      <span style="color: #2aa1ae; background-color: #292e34;">//</span><span style="color: #2aa1ae; background-color: #292e34;">mediaAdapter is providing support to play other file formats</span>
      <span style="color: #4f97d7; font-weight: bold;">else</span> <span style="color: #4f97d7; font-weight: bold;">if</span><span style="color: #2d9574;">(</span>audioType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"vlc"</span><span style="color: #67b11d;">)</span> || audioType.equalsIgnoreCase<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"mp4"</span><span style="color: #67b11d;">)</span><span style="color: #2d9574;">){</span>
         mediaAdapter = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">MediaAdapter</span><span style="color: #67b11d;">(</span>audioType<span style="color: #67b11d;">)</span>;
         mediaAdapter.play<span style="color: #67b11d;">(</span>audioType, fileName<span style="color: #67b11d;">)</span>;
      <span style="color: #2d9574;">}</span>

      <span style="color: #4f97d7; font-weight: bold;">else</span><span style="color: #2d9574;">{</span>
         System.out.println<span style="color: #67b11d;">(</span><span style="color: #2d9574;">"Invalid media. "</span> + audioType + <span style="color: #2d9574;">" format not supported"</span><span style="color: #67b11d;">)</span>;
      <span style="color: #2d9574;">}</span>
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">5</span>

Use the AudioPlayer to play different types of audio <span style="color: #a45bad;">formats</span>.

AdapterPatternDemo.java


<span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">class</span> AdapterPatternDemo <span style="color: #4f97d7;">{</span>
   <span style="color: #4f97d7; font-weight: bold;">public</span> <span style="color: #4f97d7; font-weight: bold;">static</span> <span style="color: #ce537a; font-weight: bold;">void</span> <span style="color: #bc6ec5; font-weight: bold;">main</span><span style="color: #bc6ec5;">(</span><span style="color: #ce537a; font-weight: bold;">String</span><span style="color: #2d9574;">[]</span> <span style="color: #7590db;">args</span><span style="color: #bc6ec5;">)</span> <span style="color: #bc6ec5;">{</span>
      <span style="color: #ce537a; font-weight: bold;">AudioPlayer</span> <span style="color: #7590db;">audioPlayer</span> = <span style="color: #4f97d7; font-weight: bold;">new</span> <span style="color: #ce537a; font-weight: bold;">AudioPlayer</span><span style="color: #2d9574;">()</span>;

      audioPlayer.play<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"mp3"</span>, <span style="color: #2d9574;">"beyond the horizon.mp3"</span><span style="color: #2d9574;">)</span>;
      audioPlayer.play<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"mp4"</span>, <span style="color: #2d9574;">"alone.mp4"</span><span style="color: #2d9574;">)</span>;
      audioPlayer.play<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"vlc"</span>, <span style="color: #2d9574;">"far far away.vlc"</span><span style="color: #2d9574;">)</span>;
      audioPlayer.play<span style="color: #2d9574;">(</span><span style="color: #2d9574;">"avi"</span>, <span style="color: #2d9574;">"mind me.avi"</span><span style="color: #2d9574;">)</span>;
   <span style="color: #bc6ec5;">}</span>
<span style="color: #4f97d7;">}</span>


Step <span style="color: #a45bad;">6</span>

Verify the <span style="color: #a45bad;">output</span>.


Playing mp3 <span style="color: #a45bad;">file</span>. Name: beyond the horizon.mp3
Playing mp4 <span style="color: #a45bad;">file</span>. Name: alone.mp4
Playing vlc <span style="color: #a45bad;">file</span>. Name: far far away.vlc
Invalid media. avi format not supported
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org403df5e" class="outline-3">
<h3 id="org403df5e"><span class="section-number-3">2.6</span> observer pattern</h3>
</div>
</div>
<div id="outline-container-org849ae5e" class="outline-2">
<h2 id="org849ae5e"><span class="section-number-2">3</span> java2s - java</h2>
<div class="outline-text-2" id="text-3">
<p>
<a href="http://www.java2s.com/Code/Java/Design-Pattern/CatalogDesign-Pattern.htm">http://www.java2s.com/Code/Java/Design-Pattern/CatalogDesign-Pattern.htm</a>
<a href="https://www.tutorialspoint.com/design_pattern/observer_pattern.htm">https://www.tutorialspoint.com/design_pattern/observer_pattern.htm</a>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: raflin</p>
<p class="date">Created: 2019-04-05 五 15:37</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
